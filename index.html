<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- ========== SEO OTIMIZADO ========== -->
    <!-- Title otimizado para SEO -->
    <title>ROLÊ Entretenimento | Eventos Culturais e Festas Alternativas nas Principais Cidades do Brasil</title>
    
    <!-- Meta Description otimizada -->
    <meta name="description" content="Descubra os melhores eventos culturais, festas alternativas e shows em São Paulo, Rio de Janeiro, Porto Alegre, Florianópolis e Curitiba. Curadoria independente de experiências culturais autênticas." />
    
    <!-- Keywords estratégicas -->
    <meta name="keywords" content="eventos culturais brasil, festas alternativas, shows são paulo, cultura porto alegre, entretenimento rio de janeiro, eventos curitiba, música eletrônica, arte urbana, vida noturna, curadoria cultural, rolê" />
    
    <!-- Meta tags de autor e publisher -->
    <meta name="author" content="ROLÊ Entretenimento" />
    <meta name="publisher" content="ROLÊ Entretenimento" />
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://roleentretenimento.com/" />
    
    <!-- Hreflang para futuras expansões -->
    <link rel="alternate" hreflang="pt-BR" href="https://roleentretenimento.com/" />
    
    <!-- ========== OPEN GRAPH OTIMIZADO ========== -->
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="ROLÊ Entretenimento" />
    <meta property="og:title" content="ROLÊ Entretenimento | Curadoria de Eventos Culturais no Brasil" />
    <meta property="og:description" content="Descubra os eventos mais autênticos e experiências culturais únicas nas principais cidades brasileiras. Curadoria independente com estética, presença e opinião." />
    <meta property="og:url" content="https://roleentretenimento.com/" />
    <meta property="og:image" content="https://roleentretenimento.com/images/banner-home.png" />
    <meta property="og:image:alt" content="ROLÊ Entretenimento - Cultura, Arte e Diversão nas Cidades Brasileiras" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:locale" content="pt_BR" />
    
    <!-- ========== TWITTER CARDS ========== -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@role_ent" />
    <meta name="twitter:creator" content="@role_ent" />
    <meta name="twitter:title" content="ROLÊ Entretenimento | Eventos Culturais Autênticos" />
    <meta name="twitter:description" content="Curadoria independente dos melhores eventos culturais e experiências nas principais cidades do Brasil. #cultura #eventos #brasil" />
    <meta name="twitter:image" content="https://roleentretenimento.com/images/banner-home.png" />
    <meta name="twitter:image:alt" content="ROLÊ Entretenimento - Eventos culturais curados" />
    
    <!-- ========== SCHEMA MARKUP - DADOS ESTRUTURADOS ========== -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "Organization",
          "@id": "https://roleentretenimento.com/#organization",
          "name": "ROLÊ Entretenimento",
          "alternateName": "ROLÊ",
          "description": "Curadoria independente de eventos culturais e experiências autênticas nas principais cidades brasileiras",
          "url": "https://roleentretenimento.com/",
          "logo": {
            "@type": "ImageObject",
            "url": "https://roleentretenimento.com/images/logo-role.png",
            "width": 200,
            "height": 50
          },
          "image": "https://roleentretenimento.com/images/banner-home.png",
          "sameAs": [
            "https://instagram.com/role.ent",
            "https://tiktok.com/@role.ent",
            "https://wa.me/5551980704353"
          ],
          "contactPoint": {
            "@type": "ContactPoint",
            "telephone": "+55-51-98070-4353",
            "contactType": "customer service",
            "availableLanguage": "Portuguese"
          },
          "areaServed": [
            {
              "@type": "City",
              "name": "São Paulo",
              "addressRegion": "SP",
              "addressCountry": "BR"
            },
            {
              "@type": "City", 
              "name": "Rio de Janeiro",
              "addressRegion": "RJ",
              "addressCountry": "BR"
            },
            {
              "@type": "City",
              "name": "Porto Alegre", 
              "addressRegion": "RS",
              "addressCountry": "BR"
            },
            {
              "@type": "City",
              "name": "Florianópolis",
              "addressRegion": "SC", 
              "addressCountry": "BR"
            },
            {
              "@type": "City",
              "name": "Curitiba",
              "addressRegion": "PR",
              "addressCountry": "BR"
            }
          ],
          "foundingDate": "2024",
          "slogan": "Curadoria Independente de Cultura e Experiências"
        },
        {
          "@type": "WebSite",
          "@id": "https://roleentretenimento.com/#website",
          "url": "https://roleentretenimento.com/",
          "name": "ROLÊ Entretenimento",
          "description": "Portal de eventos culturais e experiências autênticas no Brasil",
          "publisher": {
            "@id": "https://roleentretenimento.com/#organization"
          },
          "inLanguage": "pt-BR",
          "potentialAction": {
            "@type": "SearchAction",
            "target": {
              "@type": "EntryPoint",
              "urlTemplate": "https://roleentretenimento.com/busca?q={search_term_string}"
            },
            "query-input": "required name=search_term_string"
          }
        },
        {
          "@type": "WebPage",
          "@id": "https://roleentretenimento.com/#webpage",
          "url": "https://roleentretenimento.com/",
          "name": "ROLÊ Entretenimento | Eventos Culturais e Festas Alternativas",
          "description": "Página inicial do ROLÊ Entretenimento com os destaques semanais de eventos culturais nas principais cidades brasileiras",
          "isPartOf": {
            "@id": "https://roleentretenimento.com/#website"
          },
          "about": {
            "@id": "https://roleentretenimento.com/#organization"
          },
          "primaryImageOfPage": {
            "@type": "ImageObject",
            "url": "https://roleentretenimento.com/images/banner-home.png"
          },
          "datePublished": "2024-01-01",
          "dateModified": "2025-07-28",
          "breadcrumb": {
            "@type": "BreadcrumbList",
            "itemListElement": [
              {
                "@type": "ListItem",
                "position": 1,
                "name": "Início",
                "item": "https://roleentretenimento.com/"
              }
            ]
          }
        },
        {
          "@type": "ItemList",
          "@id": "https://roleentretenimento.com/#featured-events",
          "name": "Destaques da Semana",
          "description": "Eventos culturais em destaque selecionados pela curadoria ROLÊ",
          "itemListElement": [
            {
              "@type": "Event",
              "position": 1,
              "name": "Cena Alternativa Porto Alegre",
              "description": "A cena alternativa pulsa forte no Sul",
              "location": {
                "@type": "Place",
                "name": "Porto Alegre",
                "address": {
                  "@type": "PostalAddress",
                  "addressLocality": "Porto Alegre",
                  "addressRegion": "RS",
                  "addressCountry": "BR"
                }
              },
              "organizer": {
                "@id": "https://roleentretenimento.com/#organization"
              }
            },
            {
              "@type": "Event", 
              "position": 2,
              "name": "Eletrônica Beira-Mar Florianópolis",
              "description": "Beira-mar, eletrônica e coletivo",
              "location": {
                "@type": "Place",
                "name": "Florianópolis",
                "address": {
                  "@type": "PostalAddress",
                  "addressLocality": "Florianópolis", 
                  "addressRegion": "SC",
                  "addressCountry": "BR"
                }
              },
              "organizer": {
                "@id": "https://roleentretenimento.com/#organization"
              }
            },
            {
              "@type": "Event",
              "position": 3, 
              "name": "Underground Curitiba",
              "description": "Frio na rua, calor nas pistas",
              "location": {
                "@type": "Place",
                "name": "Curitiba",
                "address": {
                  "@type": "PostalAddress",
                  "addressLocality": "Curitiba",
                  "addressRegion": "PR", 
                  "addressCountry": "BR"
                }
              },
              "organizer": {
                "@id": "https://roleentretenimento.com/#organization"
              }
            },
            {
              "@type": "Event",
              "position": 4,
              "name": "São Paulo Noturno",
              "description": "A cidade que nunca dorme... nem para de dançar",
              "location": {
                "@type": "Place",
                "name": "São Paulo",
                "address": {
                  "@type": "PostalAddress",
                  "addressLocality": "São Paulo",
                  "addressRegion": "SP",
                  "addressCountry": "BR"
                }
              },
              "organizer": {
                "@id": "https://roleentretenimento.com/#organization"
              }
            },
            {
              "@type": "Event",
              "position": 5,
              "name": "Cultura Carioca",
              "description": "Funk, favela, cor e calor cultural",
              "location": {
                "@type": "Place", 
                "name": "Rio de Janeiro",
                "address": {
                  "@type": "PostalAddress",
                  "addressLocality": "Rio de Janeiro",
                  "addressRegion": "RJ",
                  "addressCountry": "BR"
                }
              },
              "organizer": {
                "@id": "https://roleentretenimento.com/#organization"
              }
            }
          ]
        }
      ]
    }
    </script>
    
    <!-- ========== PERFORMANCE E RECURSOS ========== -->
    <!-- Preload de recursos críticos -->
    <link rel="preload" href="estilo.css" as="style" />
    <link rel="preload" href="images/banner-home.png" as="image" importance="high" />
    <link rel="preload" href="images/logo-role.png" as="image" importance="high" />
    
    <!-- DNS Prefetch para domínios externos -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com" />
    <link rel="dns-prefetch" href="//pagead2.googlesyndication.com" />
    <link rel="dns-prefetch" href="//script.google.com" />
    <link rel="dns-prefetch" href="//instagram.com" />
    
    <!-- ========== FAVICON E ÍCONES ========== -->
    <link rel="icon" href="images/favicon.png" type="image/png" />
    <link rel="apple-touch-icon" href="images/favicon.png" />
    <link rel="manifest" href="/manifest.json" />
    
    <!-- ========== TEMA E PREFERÊNCIAS ========== -->
    <meta name="theme-color" content="#c77dff" />
    <meta name="color-scheme" content="dark light" />
    
    <script>
        // Aplicar tema salvo antes do carregamento para evitar flash
        if (localStorage.getItem('theme') === 'light') {
            document.documentElement.setAttribute('data-theme', 'light');
        }
    </script>
    
    <!-- ========== GOOGLE ADSENSE ========== -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2898945215492580"
     crossorigin="anonymous"></script>
    
    <!-- ========== ANALYTICS E TRACKING ========== -->
    <!-- Google Analytics 4 (recomendado adicionar) -->
    <!--
    <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'GA_MEASUREMENT_ID');
    </script>
    -->
    
    <!-- ========== FALLBACK PARA JAVASCRIPT DESABILITADO ========== -->
    <noscript>
        <style>
            .requires-js { display: none !important; }
            .no-js-message {
                display: block !important;
                text-align: center;
                padding: 2rem;
                background: #c77dff;
                color: white;
                font-weight: bold;
                margin: 1rem;
                border-radius: 10px;
            }
        </style>
        <div class="no-js-message">
            📱 Para uma melhor experiência, ative o JavaScript no seu navegador.
        </div>
    </noscript>
    
    <!-- ========== CSS PRINCIPAL ========== -->
    <link rel="stylesheet" href="estilo.css" />
    
    <!-- ========== ESTILOS INLINE CRÍTICOS (OPCIONAL) ========== -->
    <style>
        /* Critical CSS - apenas o essencial para o above-the-fold */
        body { 
            font-family: 'Inter', sans-serif; 
            margin: 0; 
            background: #000; 
            color: #f3f3f7; 
        }
        
        .bloco-topo {
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
            background: rgba(0, 0, 0, 0.8);
            border-bottom: 1px solid #c77dff;
        }
        
        .logo {
            height: 50px;
            max-width: 100%;
        }
        
        .hero-section {
            text-align: center;
            padding: 3rem 2rem;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .hero-title {
            font-size: clamp(2rem, 4vw, 3.5rem);
            font-weight: 700;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #c77dff, #e0aaff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.2;
        }
    </style>
</head>

    <!-- ========== SEÇÃO AGENDA SEMANAL ========== -->
<!-- Adicionar após a seção "Como Funciona" e antes da "Revista ROLÊ" -->

<section class="agenda-semanal fade-in" id="agenda-semanal">
    <div class="agenda-container">
        <!-- Header da Agenda -->
        <div class="agenda-header">
            <h2 class="agenda-title">
                <span class="agenda-icon">📅</span>
                Agenda da Semana
            </h2>
            <p class="agenda-subtitle">
                Os eventos mais aguardados selecionados pela nossa curadoria
            </p>
            
            <!-- Navegação de Semanas -->
            <div class="week-navigation">
                <button class="week-nav-btn prev" aria-label="Semana anterior">
                    <span>◀</span> Anterior
                </button>
                <div class="current-week">
                    <span class="week-range" id="week-range">28 JUL - 03 AGO</span>
                    <span class="year">2025</span>
                </div>
                <button class="week-nav-btn next" aria-label="Próxima semana">
                    Próxima <span>▶</span>
                </button>
            </div>
        </div>

        <!-- Timeline dos Dias -->
        <div class="agenda-timeline">
            <!-- Segunda-feira -->
            <div class="day-column" data-day="monday">
                <div class="day-header">
                    <div class="day-name">SEG</div>
                    <div class="day-number">28</div>
                </div>
                <div class="events-list">
                    <article class="event-card premium">
                        <div class="event-time">22:00</div>
                        <div class="event-content">
                            <h3 class="event-title">Underground Techno</h3>
                            <p class="event-location">
                                <span class="location-icon">📍</span>
                                Club Mau, São Paulo
                            </p>
                            <div class="event-genre">
                                <span class="genre-tag techno">Techno</span>
                            </div>
                            <div class="event-price">R$ 40</div>
                        </div>
                        <div class="event-actions">
                            <button class="btn-favorite" aria-label="Adicionar aos favoritos">
                                <span class="heart">🤍</span>
                            </button>
                            <a href="#" class="btn-event-details">Ver Detalhes</a>
                        </div>
                    </article>
                </div>
            </div>

            <!-- Terça-feira -->
            <div class="day-column" data-day="tuesday">
                <div class="day-header">
                    <div class="day-name">TER</div>
                    <div class="day-number">29</div>
                </div>
                <div class="events-list">
                    <article class="event-card">
                        <div class="event-time">20:00</div>
                        <div class="event-content">
                            <h3 class="event-title">Sarau Poético</h3>
                            <p class="event-location">
                                <span class="location-icon">📍</span>
                                Centro Cultural, Rio
                            </p>
                            <div class="event-genre">
                                <span class="genre-tag cultura">Cultura</span>
                            </div>
                            <div class="event-price">Gratuito</div>
                        </div>
                        <div class="event-actions">
                            <button class="btn-favorite" aria-label="Adicionar aos favoritos">
                                <span class="heart">🤍</span>
                            </button>
                            <a href="#" class="btn-event-details">Ver Detalhes</a>
                        </div>
                    </article>
                </div>
            </div>

            <!-- Quarta-feira -->
            <div class="day-column" data-day="wednesday">
                <div class="day-header">
                    <div class="day-name">QUA</div>
                    <div class="day-number">30</div>
                </div>
                <div class="events-list">
                    <article class="event-card featured">
                        <div class="featured-badge">🔥 Destaque</div>
                        <div class="event-time">21:30</div>
                        <div class="event-content">
                            <h3 class="event-title">Festa da Quebrada</h3>
                            <p class="event-location">
                                <span class="location-icon">📍</span>
                                Favela Bar, Floripa
                            </p>
                            <div class="event-genre">
                                <span class="genre-tag funk">Funk</span>
                                <span class="genre-tag rap">Rap</span>
                            </div>
                            <div class="event-price">R$ 25</div>
                        </div>
                        <div class="event-actions">
                            <button class="btn-favorite active" aria-label="Remover dos favoritos">
                                <span class="heart">❤️</span>
                            </button>
                            <a href="#" class="btn-event-details">Ver Detalhes</a>
                        </div>
                    </article>
                </div>
            </div>

            <!-- Quinta-feira -->
            <div class="day-column" data-day="thursday">
                <div class="day-header">
                    <div class="day-name">QUI</div>
                    <div class="day-number">31</div>
                </div>
                <div class="events-list">
                    <article class="event-card">
                        <div class="event-time">19:00</div>
                        <div class="event-content">
                            <h3 class="event-title">Exposição de Arte</h3>
                            <p class="event-location">
                                <span class="location-icon">📍</span>
                                Galeria Moderna, POA
                            </p>
                            <div class="event-genre">
                                <span class="genre-tag arte">Arte</span>
                            </div>
                            <div class="event-price">R$ 15</div>
                        </div>
                        <div class="event-actions">
                            <button class="btn-favorite" aria-label="Adicionar aos favoritos">
                                <span class="heart">🤍</span>
                            </button>
                            <a href="#" class="btn-event-details">Ver Detalhes</a>
                        </div>
                    </article>

                    <article class="event-card">
                        <div class="event-time">23:00</div>
                        <div class="event-content">
                            <h3 class="event-title">House Session</h3>
                            <p class="event-location">
                                <span class="location-icon">📍</span>
                                Rooftop Club, POA
                            </p>
                            <div class="event-genre">
                                <span class="genre-tag house">House</span>
                            </div>
                            <div class="event-price">R$ 35</div>
                        </div>
                        <div class="event-actions">
                            <button class="btn-favorite" aria-label="Adicionar aos favoritos">
                                <span class="heart">🤍</span>
                            </button>
                            <a href="#" class="btn-event-details">Ver Detalhes</a>
                        </div>
                    </article>
                </div>
            </div>

            <!-- Sexta-feira -->
            <div class="day-column" data-day="friday">
                <div class="day-header">
                    <div class="day-name">SEX</div>
                    <div class="day-number">01</div>
                </div>
                <div class="events-list">
                    <article class="event-card premium featured">
                        <div class="featured-badge">⭐ Premium</div>
                        <div class="event-time">23:30</div>
                        <div class="event-content">
                            <h3 class="event-title">Rave Warehouse</h3>
                            <p class="event-location">
                                <span class="location-icon">📍</span>
                                Local Secreto, SP
                            </p>
                            <div class="event-genre">
                                <span class="genre-tag rave">Rave</span>
                                <span class="genre-tag techno">Techno</span>
                            </div>
                            <div class="event-price">R$ 60</div>
                        </div>
                        <div class="event-actions">
                            <button class="btn-favorite" aria-label="Adicionar aos favoritos">
                                <span class="heart">🤍</span>
                            </button>
                            <a href="#" class="btn-event-details">Ver Detalhes</a>
                        </div>
                    </article>

                    <article class="event-card">
                        <div class="event-time">21:00</div>
                        <div class="event-content">
                            <h3 class="event-title">Show Indie Rock</h3>
                            <p class="event-location">
                                <span class="location-icon">📍</span>
                                Arena Alternativa, Curitiba
                            </p>
                            <div class="event-genre">
                                <span class="genre-tag rock">Rock</span>
                            </div>
                            <div class="event-price">R$ 45</div>
                        </div>
                        <div class="event-actions">
                            <button class="btn-favorite" aria-label="Adicionar aos favoritos">
                                <span class="heart">🤍</span>
                            </button>
                            <a href="#" class="btn-event-details">Ver Detalhes</a>
                        </div>
                    </article>
                </div>
            </div>

            <!-- Sábado -->
            <div class="day-column" data-day="saturday">
                <div class="day-header">
                    <div class="day-name">SÁB</div>
                    <div class="day-number">02</div>
                </div>
                <div class="events-list">
                    <article class="event-card featured">
                        <div class="featured-badge">🎊 Imperdível</div>
                        <div class="event-time">15:00</div>
                        <div class="event-content">
                            <h3 class="event-title">Festival de Rua</h3>
                            <p class="event-location">
                                <span class="location-icon">📍</span>
                                Praça Central, Rio
                            </p>
                            <div class="event-genre">
                                <span class="genre-tag festival">Festival</span>
                                <span class="genre-tag gratuito">Gratuito</span>
                            </div>
                            <div class="event-price">Gratuito</div>
                        </div>
                        <div class="event-actions">
                            <button class="btn-favorite" aria-label="Adicionar aos favoritos">
                                <span class="heart">🤍</span>
                            </button>
                            <a href="#" class="btn-event-details">Ver Detalhes</a>
                        </div>
                    </article>

                    <article class="event-card">
                        <div class="event-time">22:00</div>
                        <div class="event-content">
                            <h3 class="event-title">Baile Funk</h3>
                            <p class="event-location">
                                <span class="location-icon">📍</span>
                                Quadra da Comunidade, Rio
                            </p>
                            <div class="event-genre">
                                <span class="genre-tag funk">Funk</span>
                            </div>
                            <div class="event-price">R$ 20</div>
                        </div>
                        <div class="event-actions">
                            <button class="btn-favorite" aria-label="Adicionar aos favoritos">
                                <span class="heart">🤍</span>
                            </button>
                            <a href="#" class="btn-event-details">Ver Detalhes</a>
                        </div>
                    </article>
                </div>
            </div>

            <!-- Domingo -->
            <div class="day-column" data-day="sunday">
                <div class="day-header">
                    <div class="day-name">DOM</div>
                    <div class="day-number">03</div>
                </div>
                <div class="events-list">
                    <article class="event-card">
                        <div class="event-time">16:00</div>
                        <div class="event-content">
                            <h3 class="event-title">Jazz no Parque</h3>
                            <p class="event-location">
                                <span class="location-icon">📍</span>
                                Parque da Cidade, Floripa
                            </p>
                            <div class="event-genre">
                                <span class="genre-tag jazz">Jazz</span>
                            </div>
                            <div class="event-price">Gratuito</div>
                        </div>
                        <div class="event-actions">
                            <button class="btn-favorite" aria-label="Adicionar aos favoritos">
                                <span class="heart">🤍</span>
                            </button>
                            <a href="#" class="btn-event-details">Ver Detalhes</a>
                        </div>
                    </article>
                </div>
            </div>
        </div>

        <!-- Rodapé da Agenda -->
        <div class="agenda-footer">
            <div class="agenda-stats">
                <div class="stat">
                    <span class="stat-number" id="total-events">12</span>
                    <span class="stat-label">eventos</span>
                </div>
                <div class="stat">
                    <span class="stat-number" id="free-events">3</span>
                    <span class="stat-label">gratuitos</span>
                </div>
                <div class="stat">
                    <span class="stat-number" id="favorited-events">1</span>
                    <span class="stat-label">favoritados</span>
                </div>
            </div>
            
            <div class="agenda-actions">
                <button class="btn-view-all">
                    Ver Todos os Eventos
                    <span class="btn-icon">→</span>
                </button>
                <button class="btn-add-calendar">
                    <span class="calendar-icon">📅</span>
                    Adicionar ao Calendário
                </button>
            </div>
        </div>
    </div>
</section>

<!-- ========== CSS PARA A AGENDA SEMANAL ========== -->
<style>
/* ========== AGENDA SEMANAL ========== */
.agenda-semanal {
    padding: 5rem 2rem;
    background: linear-gradient(135deg, rgba(199, 125, 255, 0.03), transparent);
    position: relative;
    overflow: hidden;
}

.agenda-semanal::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="1" fill="%23c77dff" opacity="0.1"/><circle cx="80" cy="40" r="0.5" fill="%23c77dff" opacity="0.15"/><circle cx="60" cy="80" r="1.5" fill="%23c77dff" opacity="0.08"/></svg>');
    animation: float 12s ease-in-out infinite;
    pointer-events: none;
}

.agenda-container {
    max-width: 1400px;
    margin: 0 auto;
    position: relative;
    z-index: 2;
}

/* ========== HEADER DA AGENDA ========== */
.agenda-header {
    text-align: center;
    margin-bottom: 4rem;
}

.agenda-title {
    font-size: clamp(2rem, 4vw, 3.5rem);
    font-weight: 700;
    margin-bottom: 1rem;
    background: var(--gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
}

.agenda-icon {
    font-size: 0.8em;
    filter: drop-shadow(0 0 10px rgba(199, 125, 255, 0.5));
}

.agenda-subtitle {
    font-size: 1.2rem;
    opacity: 0.9;
    margin-bottom: 2.5rem;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
    line-height: 1.6;
}

/* ========== NAVEGAÇÃO DE SEMANAS ========== */
.week-navigation {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 2rem;
    margin-bottom: 2rem;
}

.week-nav-btn {
    background: rgba(199, 125, 255, 0.1);
    border: 1px solid rgba(199, 125, 255, 0.3);
    color: var(--text-color);
    padding: 0.8rem 1.5rem;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.week-nav-btn:hover {
    background: rgba(199, 125, 255, 0.2);
    border-color: var(--highlight);
    transform: translateY(-2px);
}

.current-week {
    text-align: center;
    padding: 1rem 2rem;
    background: var(--card-bg);
    border: 2px solid var(--highlight);
    border-radius: 20px;
    min-width: 200px;
}

.week-range {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--highlight);
    display: block;
}

.year {
    font-size: 0.9rem;
    opacity: 0.7;
}

/* ========== TIMELINE DOS DIAS ========== */
.agenda-timeline {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 1rem;
    margin-bottom: 3rem;
}

.day-column {
    background: var(--card-bg);
    border: 1px solid var(--card-border);
    border-radius: 20px;
    overflow: hidden;
    transition: all 0.3s ease;
    min-height: 200px;
}

.day-column:hover {
    border-color: var(--highlight);
    transform: translateY(-5px);
    box-shadow: 0 10px 30px var(--shadow);
}

.day-header {
    padding: 1rem;
    text-align: center;
    background: linear-gradient(135deg, rgba(199, 125, 255, 0.1), rgba(199, 125, 255, 0.05));
    border-bottom: 1px solid var(--card-border);
}

.day-name {
    font-size: 0.8rem;
    font-weight: 700;
    color: var(--highlight);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.day-number {
    font-size: 1.5rem;
    font-weight: 700;
    margin-top: 0.3rem;
}

/* ========== LISTA DE EVENTOS ========== */
.events-list {
    padding: 1rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.event-card {
    background: rgba(17, 17, 17, 0.8);
    border: 1px solid rgba(199, 125, 255, 0.2);
    border-radius: 15px;
    padding: 1rem;
    transition: all 0.3s ease;
    position: relative;
    cursor: pointer;
}

.event-card:hover {
    background: rgba(199, 125, 255, 0.05);
    border-color: var(--highlight);
    transform: scale(1.02);
}

.event-card.featured {
    border-color: #ffd700;
    box-shadow: 0 0 15px rgba(255, 215, 0, 0.2);
}

.event-card.premium {
    border-color: var(--highlight);
    box-shadow: 0 0 15px rgba(199, 125, 255, 0.3);
}

.featured-badge {
    position: absolute;
    top: -8px;
    right: 1rem;
    background: linear-gradient(135deg, #ffd700, #ffed4a);
    color: #000;
    font-size: 0.7rem;
    font-weight: 700;
    padding: 0.3rem 0.8rem;
    border-radius: 15px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.event-card.premium .featured-badge {
    background: var(--gradient);
    color: white;
}

.event-time {
    font-size: 0.9rem;
    font-weight: 700;
    color: var(--highlight);
    margin-bottom: 0.5rem;
}

.event-title {
    font-size: 1rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
    line-height: 1.3;
}

.event-location {
    font-size: 0.8rem;
    opacity: 0.8;
    margin-bottom: 0.8rem;
    display: flex;
    align-items: center;
    gap: 0.3rem;
}

.location-icon {
    font-size: 0.7rem;
}

/* ========== GÊNEROS MUSICAIS ========== */
.event-genre {
    display: flex;
    flex-wrap: wrap;
    gap: 0.3rem;
    margin-bottom: 0.8rem;
}

.genre-tag {
    font-size: 0.7rem;
    padding: 0.2rem 0.6rem;
    border-radius: 12px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.genre-tag.techno { background: #ff6b6b; color: white; }
.genre-tag.house { background: #4ecdc4; color: white; }
.genre-tag.funk { background: #45b7d1; color: white; }
.genre-tag.rap { background: #f9ca24; color: #000; }
.genre-tag.rock { background: #f0932b; color: white; }
.genre-tag.jazz { background: #eb4d4b; color: white; }
.genre-tag.cultura { background: #6c5ce7; color: white; }
.genre-tag.arte { background: #a29bfe; color: white; }
.genre-tag.rave { background: #fd79a8; color: white; }
.genre-tag.festival { background: #00b894; color: white; }
.genre-tag.gratuito { background: #00cec9; color: white; }

.event-price {
    font-size: 0.9rem;
    font-weight: 700;
    color: var(--highlight);
}

/* ========== AÇÕES DO EVENTO ========== */
.event-actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 0.8rem;
    padding-top: 0.8rem;
    border-top: 1px solid rgba(199, 125, 255, 0.1);
}

.btn-favorite {
    background: none;
    border: none;
    cursor: pointer;
    font-size: 1.2rem;
    transition: all 0.3s ease;
    padding: 0.3rem;
    border-radius: 50%;
}

.btn-favorite:hover {
    background: rgba(199, 125, 255, 0.1);
    transform: scale(1.2);
}

.btn-favorite.active .heart {
    animation: heartBeat 0.6s ease;
}

@keyframes heartBeat {
    0% { transform: scale(1); }
    50% { transform: scale(1.3); }
    100% { transform: scale(1); }
}

.btn-event-details {
    background: rgba(199, 125, 255, 0.1);
    color: var(--highlight);
    border: 1px solid rgba(199, 125, 255, 0.3);
    padding: 0.4rem 0.8rem;
    border-radius: 15px;
    text-decoration: none;
    font-size: 0.8rem;
    font-weight: 600;
    transition: all 0.3s ease;
}

.btn-event-details:hover {
    background: var(--highlight);
    color: white;
    transform: translateY(-2px);
}

/* ========== RODAPÉ DA AGENDA ========== */
.agenda-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 2rem;
    background: var(--card-bg);
    border: 1px solid var(--card-border);
    border-radius: 20px;
    margin-top: 2rem;
}

.agenda-stats {
    display: flex;
    gap: 2rem;
}

.stat {
    text-align: center;
}

.stat-number {
    display: block;
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--highlight);
}

.stat-label {
    font-size: 0.8rem;
    opacity: 0.8;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.agenda-actions {
    display: flex;
    gap: 1rem;
}

.btn-view-all {
    background: var(--gradient);
    color: white;
    border: none;
    padding: 0.8rem 1.5rem;
    border-radius: 25px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.btn-view-all:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(199, 125, 255, 0.4);
}

.btn-add-calendar {
    background: rgba(199, 125, 255, 0.1);
    color: var(--highlight);
    border: 1px solid rgba(199, 125, 255, 0.3);
    padding: 0.8rem 1.5rem;
    border-radius: 25px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.btn-add-calendar:hover {
    background: rgba(199, 125, 255, 0.2);
    border-color: var(--highlight);
    transform: translateY(-2px);
}

/* ========== RESPONSIVO ========== */
@media (max-width: 1200px) {
    .agenda-timeline {
        grid-template-columns: repeat(4, 1fr);
    }
    
    .day-column:nth-child(n+5) {
        grid-column: span 1;
    }
}

@media (max-width: 768px) {
    .agenda-semanal {
        padding: 3rem 1rem;
    }
    
    .agenda-timeline {
        grid-template-columns: repeat(2, 1fr);
        gap: 0.8rem;
    }
    
    .week-navigation {
        flex-direction: column;
        gap: 1rem;
    }
    
    .agenda-footer {
        flex-direction: column;
        gap: 2rem;
        text-align: center;
    }
    
    .agenda-actions {
        flex-direction: column;
        width: 100%;
    }
    
    .btn-view-all,
    .btn-add-calendar {
        width: 100%;
        justify-content: center;
    }
}

@media (max-width: 480px) {
    .agenda-timeline {
        grid-template-columns: 1fr;
    }
    
    .event-card {
        padding: 0.8rem;
    }
    
    .event-title {
        font-size: 0.9rem;
    }
    
    .agenda-stats {
        justify-content: space-around;
        width: 100%;
    }
}

/* ========== ANIMAÇÕES ========== */
.event-card {
    animation: slideInUp 0.6s ease forwards;
    opacity: 0;
    transform: translateY(20px);
}

.event-card:nth-child(1) { animation-delay: 0.1s; }
.event-card:nth-child(2) { animation-delay: 0.2s; }
.event-card:nth-child(3) { animation-delay: 0.3s; }

@keyframes slideInUp {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
</style>

<!-- ========== JAVASCRIPT PARA A AGENDA ========== -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // ========== SISTEMA DE FAVORITOS ========== 
    const favoriteButtons = document.querySelectorAll('.btn-favorite');
    let favoritedCount = 1; // Começa com 1 já favoritado
    
    // Carrega favoritos do localStorage
    const savedFavorites = JSON.parse(localStorage.getItem('role_favorites') || '[]');
    
    favoriteButtons.forEach((btn, index) => {
        const eventId = `event-${index}`;
        
        // Aplica estado salvo
        if (savedFavorites.includes(eventId)) {
            btn.classList.add('active');
            btn.querySelector('.heart').textContent = '❤️';
        }
        
        btn.addEventListener('click', function(e) {
            e.stopPropagation();
            
            const heart = this.querySelector('.heart');
            const isActive = this.classList.contains('active');
            
            if (isActive) {
                // Remove dos favoritos
                this.classList.remove('active');
                heart.textContent = '🤍';
                favoritedCount--;
                
                // Remove do localStorage
                const index = savedFavorites.indexOf(eventId);
                if (index > -1) savedFavorites.splice(index, 1);
                
                showToast('Removido dos favoritos', 'remove');
            } else {
                // Adiciona aos favoritos
                this.classList.add('active');
                heart.textContent = '❤️';
                favoritedCount++;
                
                // Adiciona ao localStorage
                savedFavorites.push(eventId);
                
                showToast('Adicionado aos favoritos!', 'add');
            }
            
            // Atualiza contador
            document.getElementById('favorited-events').textContent = favoritedCount;
            
            // Salva no localStorage
            localStorage.setItem('role_favorites', JSON.stringify(savedFavorites));
        });
    });
    
    // ========== NAVEGAÇÃO DE SEMANAS ========== 
    const weekNavButtons = document.querySelectorAll('.week-nav-btn');
    const weekRangeElement = document.getElementById('week-range');
    let currentWeekOffset = 0;
    
    // Função para gerar datas da semana
    function generateWeekRange(offset = 0) {
        const today = new Date();
        const currentDay = today.getDay(); // 0 = domingo, 1 = segunda, etc.
        const monday = new Date(today);
        
        // Ajusta para segunda-feira da semana atual
        monday.setDate(today.getDate() - currentDay + 1 + (offset * 7));
        
        const sunday = new Date(monday);
        sunday.setDate(monday.getDate() + 6);
        
        const formatDate = (date) => {
            const day = date.getDate().toString().padStart(2, '0');
            const months = ['JAN', 'FEV', 'MAR', 'ABR', 'MAI', 'JUN',
                           'JUL', 'AGO', 'SET', 'OUT', 'NOV', 'DEZ'];
            const month = months[date.getMonth()];
            return `${day} ${month}`;
        };
        
        return `${formatDate(monday)} - ${formatDate(sunday)}`;
    }
    
    // Atualiza os números dos dias na timeline
    function updateDayNumbers(offset = 0) {
        const today = new Date();
        const currentDay = today.getDay();
        const monday = new Date(today);
        monday.setDate(today.getDate() - currentDay + 1 + (offset * 7));
        
        const dayColumns = document.querySelectorAll('.day-column');
        dayColumns.forEach((column, index) => {
            const dayDate = new Date(monday);
            dayDate.setDate(monday.getDate() + index);
            
            const dayNumber = column.querySelector('.day-number');
            dayNumber.textContent = dayDate.getDate().toString().padStart(2, '0');
        });
    }
    
    weekNavButtons.forEach(btn => {
        btn.addEventListener('click', function() {
            if (this.classList.contains('prev')) {
                currentWeekOffset--;
            } else {
                currentWeekOffset++;
            }
            
            // Atualiza display da semana
            weekRangeElement.textContent = generateWeekRange(currentWeekOffset);
            updateDayNumbers(currentWeekOffset);
            
            // Simula carregamento de novos eventos
            simulateEventLoad();
            
            // Feedback visual
            this.style.transform = 'scale(0.95)';
            setTimeout(() => {
                this.style.transform = '';
            }, 150);
        });
    });
    
    // ========== SIMULAÇÃO DE CARREGAMENTO DE EVENTOS ========== 
    function simulateEventLoad() {
        const eventCards = document.querySelectorAll('.event-card');
        
        // Adiciona efeito de loading
        eventCards.forEach(card => {
            card.style.opacity = '0.5';
            card.style.transform = 'scale(0.95)';
        });
        
        // Simula delay de carregamento
        setTimeout(() => {
            eventCards.forEach((card, index) => {
                setTimeout(() => {
                    card.style.opacity = '';
                    card.style.transform = '';
                    
                    // Randomiza alguns eventos para simular mudança
                    if (Math.random() > 0.7) {
                        const genres = ['techno', 'house', 'funk', 'rock', 'jazz'];
                        const randomGenre = genres[Math.floor(Math.random() * genres.length)];
                        const genreTag = card.querySelector('.genre-tag');
                        if (genreTag) {
                            genreTag.className = `genre-tag ${randomGenre}`;
                            genreTag.textContent = randomGenre.toUpperCase();
                        }
                    }
                }, index * 100);
            });
        }, 500);
        
        showToast('Eventos atualizados!', 'update');
    }
    
    // ========== SISTEMA DE TOAST ========== 
    function showToast(message, type = 'info') {
        // Remove toast anterior se existir
        const existingToast = document.querySelector('.toast');
        if (existingToast) {
            existingToast.remove();
        }
        
        const toast = document.createElement('div');
        toast.className = 'toast';
        toast.textContent = message;
        
        // Define cor baseada no tipo
        const colors = {
            'add': '#00b894',
            'remove': '#e17055', 
            'update': '#0984e3',
            'info': '#c77dff'
        };
        
        toast.style.background = colors[type] || colors.info;
        
        document.body.appendChild(toast);
        
        // Mostra o toast
        setTimeout(() => {
            toast.classList.add('show');
        }, 100);
        
        // Remove após 3 segundos
        setTimeout(() => {
            toast.classList.remove('show');
            setTimeout(() => {
                if (toast.parentNode) {
                    toast.parentNode.removeChild(toast);
                }
            }, 300);
        }, 3000);
    }
    
    // ========== CLIQUE NOS EVENTOS ========== 
    const eventCards = document.querySelectorAll('.event-card');
    
    eventCards.forEach(card => {
        card.addEventListener('click', function(e) {
            // Ignora se clicou no botão de favorito
            if (e.target.closest('.btn-favorite')) return;
            
            const eventTitle = this.querySelector('.event-title').textContent;
            const eventLocation = this.querySelector('.event-location').textContent;
            const eventTime = this.querySelector('.event-time').textContent;
            
            // Efeito visual de clique
            this.style.transform = 'scale(0.98)';
            setTimeout(() => {
                this.style.transform = '';
            }, 200);
            
            // Simula abertura de modal ou navegação
            showToast(`Abrindo detalhes: ${eventTitle}`, 'info');
            
            // Aqui você pode implementar:
            // - Modal com detalhes do evento
            // - Redirecionamento para página específica
            // - Integração com sistema de ingressos
        });
    });
    
    // ========== BOTÕES DE AÇÃO ========== 
    const btnViewAll = document.querySelector('.btn-view-all');
    const btnAddCalendar = document.querySelector('.btn-add-calendar');
    
    btnViewAll.addEventListener('click', function() {
        showToast('Redirecionando para página completa de eventos...', 'info');
        // window.location.href = '/eventos';
    });
    
    btnAddCalendar.addEventListener('click', function() {
        // Gera arquivo .ics para download
        generateCalendarFile();
    });
    
    // ========== GERAÇÃO DE ARQUIVO DE CALENDÁRIO ========== 
    function generateCalendarFile() {
        const events = [];
        
        // Coleta informações dos eventos visíveis
        eventCards.forEach(card => {
            const title = card.querySelector('.event-title').textContent;
            const location = card.querySelector('.event-location').textContent.replace('📍 ', '');
            const time = card.querySelector('.event-time').textContent;
            
            events.push({
                title,
                location,
                time
            });
        });
        
        // Gera conteúdo iCal simples
        let icalContent = 'BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//ROLÊ Entretenimento//Agenda Semanal//PT\n';
        
        events.forEach((event, index) => {
            const eventDate = new Date();
            eventDate.setDate(eventDate.getDate() + index);
            
            const formatDate = (date) => {
                return date.toISOString().replace(/[-:]/g, '').split('.')[0] + 'Z';
            };
            
            icalContent += `BEGIN:VEVENT\n`;
            icalContent += `UID:role-event-${index}@roleentretenimento.com\n`;
            icalContent += `DTSTAMP:${formatDate(new Date())}\n`;
            icalContent += `DTSTART:${formatDate(eventDate)}\n`;
            icalContent += `SUMMARY:${event.title}\n`;
            icalContent += `LOCATION:${event.location}\n`;
            icalContent += `DESCRIPTION:Evento curado pelo ROLÊ Entretenimento\n`;
            icalContent += `END:VEVENT\n`;
        });
        
        icalContent += 'END:VCALENDAR';
        
        // Cria e baixa o arquivo
        const blob = new Blob([icalContent], { type: 'text/calendar' });
        const url = window.URL.createObjectURL(blob);
        const link = document.createElement('a');
        link.href = url;
        link.download = 'role-agenda-semanal.ics';
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        window.URL.revokeObjectURL(url);
        
        showToast('Arquivo de calendário baixado!', 'add');
    }
    
    // ========== ATUALIZAÇÃO AUTOMÁTICA DE ESTATÍSTICAS ========== 
    function updateStats() {
        const totalEvents = document.querySelectorAll('.event-card').length;
        const freeEvents = document.querySelectorAll('.event-card').length - 
                          document.querySelectorAll('.event-price:not(:contains("Gratuito"))').length;
        
        document.getElementById('total-events').textContent = totalEvents;
        document.getElementById('free-events').textContent = freeEvents;
    }
    
    // ========== SCROLL SUAVE PARA AGENDA ========== 
    const heroButton = document.querySelector('.btn-hero');
    if (heroButton) {
        heroButton.addEventListener('click', function(e) {
            e.preventDefault();
            
            // Decide entre destaques ou agenda baseado no scroll atual
            const agendaSection = document.getElementById('agenda-semanal');
            const destaquesSection = document.getElementById('destaques');
            const currentScroll = window.pageYOffset;
            const agendaOffset = agendaSection.offsetTop;
            
            if (currentScroll < agendaOffset - 200) {
                // Se estiver antes da agenda, vai para agenda
                agendaSection.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            } else {
                // Se já passou da agenda, vai para destaques
                destaquesSection.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    }
    
    // ========== INICIALIZAÇÃO ========== 
    updateStats();
    
    // Anima entrada dos cards após carregamento
    setTimeout(() => {
        eventCards.forEach((card, index) => {
            setTimeout(() => {
                card.style.opacity = '1';
                card.style.transform = 'translateY(0)';
            }, index * 100);
        });
    }, 500);
});

// ========== ESTILOS ADICIONAIS PARA TOAST ========== 
if (!document.querySelector('#toast-styles')) {
    const toastStyles = document.createElement('style');
    toastStyles.id = 'toast-styles';
    toastStyles.textContent = `
        .toast {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--highlight);
            color: white;
            padding: 1rem 2rem;
            border-radius: 30px;
            font-weight: 600;
            z-index: 10000;
            opacity: 0;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            font-size: 0.9rem;
            max-width: 90%;
            text-align: center;
        }
        
        .toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
        
        @media (max-width: 480px) {
            .toast {
                bottom: 1rem;
                left: 1rem;
                right: 1rem;
                transform: translateY(100px);
                max-width: none;
            }
            
            .toast.show {
                transform: translateY(0);
            }
        }
    `;
    document.head.appendChild(toastStyles);
}
</script>

    // ========== SISTEMA DE FILTROS INTEGRADO ========== 
document.addEventListener('DOMContentLoaded', function() {
    
    // ========== VARIÁVEIS GLOBAIS ========== 
    let currentFilters = {
        city: 'all',
        type: 'all',
        date: 'all',
        price: 'all',
        time: 'all',
        genre: 'all',
        search: ''
    };
    
    let eventDatabase = []; // Será populado com eventos das seções
    let filteredEvents = [];
    
    // ========== MAPEAMENTO DE EVENTOS ========== 
    function buildEventDatabase() {
        eventDatabase = [];
        
        // Eventos do carrossel de destaques
        const carouselCards = document.querySelectorAll('.cards-container .card');
        carouselCards.forEach((card, index) => {
            const img = card.querySelector('img');
            const text = card.querySelector('p').textContent;
            const link = card.querySelector('a').href;
            
            let city = 'sao-paulo'; // default
            if (img.src.includes('poa.png')) city = 'porto-alegre';
            else if (img.src.includes('floripa.png')) city = 'florianopolis';
            else if (img.src.includes('curitiba.png')) city = 'curitiba';
            else if (img.src.includes('rio.png')) city = 'rio-janeiro';
            
            eventDatabase.push({
                id: `carousel-${index}`,
                title: text,
                city: city,
                type: 'festa',
                genre: 'eletronica',
                price: 'medium',
                time: 'evening',
                element: card,
                section: 'carousel'
            });
        });
        
        // Eventos da agenda semanal
        const agendaCards = document.querySelectorAll('.event-card');
        agendaCards.forEach((card, index) => {
            const title = card.querySelector('.event-title')?.textContent || '';
            const location = card.querySelector('.event-location')?.textContent || '';
            const price = card.querySelector('.event-price')?.textContent || 'R$ 0';
            const time = card.querySelector('.event-time')?.textContent || '20:00';
            const genreElements = card.querySelectorAll('.genre-tag');
            
            // Determina cidade baseada na localização
            let city = 'sao-paulo';
            if (location.includes('POA') || location.includes('Porto Alegre')) city = 'porto-alegre';
            else if (location.includes('Rio') || location.includes('RJ')) city = 'rio-janeiro';
            else if (location.includes('Floripa') || location.includes('Florianópolis')) city = 'florianopolis';
            else if (location.includes('Curitiba')) city = 'curitiba';
            else if (location.includes('SP') || location.includes('São Paulo')) city = 'sao-paulo';
            
            // Determina tipo de evento
            let type = 'festa';
            if (title.includes('Exposição') || title.includes('Arte')) type = 'arte';
            else if (title.includes('Show') || title.includes('Jazz') || title.includes('Rock')) type = 'show';
            else if (title.includes('Sarau') || title.includes('Cultura') || title.includes('Festival')) type = 'cultura';
            
            // Determina gênero musical
            let genre = 'outros';
            genreElements.forEach(tag => {
                const tagText = tag.textContent.toLowerCase();
                if (tagText.includes('techno')) genre = 'techno';
                else if (tagText.includes('house')) genre = 'house';
                else if (tagText.includes('funk')) genre = 'funk';
                else if (tagText.includes('rock')) genre = 'rock';
                else if (tagText.includes('jazz')) genre = 'jazz';
                else if (tagText.includes('rap')) genre = 'rap';
            });
            
            // Determina faixa de preço
            let priceCategory = 'free';
            if (price.includes('Gratuito')) priceCategory = 'free';
            else {
                const priceNum = parseInt(price.replace(/[^\d]/g, ''));
                if (priceNum <= 30) priceCategory = 'low';
                else if (priceNum <= 60) priceCategory = 'medium';
                else priceCategory = 'high';
            }
            
            // Determina horário
            let timeCategory = 'evening';
            const hour = parseInt(time.split(':')[0]);
            if (hour < 18) timeCategory = 'afternoon';
            else if (hour < 23) timeCategory = 'evening';
            else timeCategory = 'late';
            
            // Adiciona se é gratuito como tipo
            if (priceCategory === 'free') {
                type = price.includes('Gratuito') ? 'gratuito' : type;
            }
            
            eventDatabase.push({
                id: `agenda-${index}`,
                title: title,
                location: location,
                city: city,
                type: type,
                genre: genre,
                price: priceCategory,
                time: timeCategory,
                element: card,
                section: 'agenda'
            });
        });
        
        filteredEvents = [...eventDatabase];
        updateEventCounts();
    }
    
    // ========== FILTROS POR CIDADE ========== 
    const cityFilterButtons = document.querySelectorAll('.city-filter-btn');
    
    cityFilterButtons.forEach(btn => {
        btn.addEventListener('click', function() {
            // Remove active de todos
            cityFilterButtons.forEach(b => {
                b.classList.remove('active');
                b.setAttribute('aria-selected', 'false');
            });
            
            // Adiciona active no clicado
            this.classList.add('active');
            this.setAttribute('aria-selected', 'true');
            
            currentFilters.city = this.dataset.city;
            applyFilters();
            addActiveFilterTag('cidade', this.querySelector('.city-name').textContent);
        });
    });
    
    // ========== FILTROS POR TIPO ========== 
    const typeFilterButtons = document.querySelectorAll('.type-filter-btn');
    
    typeFilterButtons.forEach(btn => {
        btn.addEventListener('click', function() {
            typeFilterButtons.forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            
            currentFilters.type = this.dataset.type;
            applyFilters();
            
            if (this.dataset.type !== 'all') {
                addActiveFilterTag('tipo', this.textContent.trim());
            }
        });
    });
    
    // ========== FILTROS POR DATA ========== 
    const dateFilterButtons = document.querySelectorAll('.date-filter-btn');
    
    dateFilterButtons.forEach(btn => {
        btn.addEventListener('click', function() {
            dateFilterButtons.forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            
            currentFilters.date = this.dataset.date;
            applyFilters();
            
            if (this.dataset.date !== 'all') {
                addActiveFilterTag('data', this.textContent);
            }
        });
    });
    
    // ========== BUSCA POR TEXTO ========== 
    const searchInput = document.getElementById('event-search');
    const clearSearchBtn = document.querySelector('.clear-search');
    
    searchInput.addEventListener('input', function() {
        currentFilters.search = this.value.toLowerCase();
        
        // Mostra/esconde botão de limpar
        if (this.value.length > 0) {
            clearSearchBtn.style.display = 'flex';
        } else {
            clearSearchBtn.style.display = 'none';
        }
        
        // Aplica filtro com debounce
        clearTimeout(searchInput.debounceTimer);
        searchInput.debounceTimer = setTimeout(() => {
            applyFilters();
            if (this.value.trim()) {
                addActiveFilterTag('busca', `"${this.value}"`);
            }
        }, 300);
    });
    
    clearSearchBtn.addEventListener('click', function() {
        searchInput.value = '';
        currentFilters.search = '';
        this.style.display = 'none';
        applyFilters();
        removeActiveFilterTag('busca');
    });
    
    // ========== FILTROS AVANÇADOS ========== 
    const advancedToggle = document.querySelector('.advanced-toggle');
    const advancedOptions = document.getElementById('advanced-options');
    
    advancedToggle.addEventListener('click', function() {
        const isExpanded = this.getAttribute('aria-expanded') === 'true';
        
        if (isExpanded) {
            advancedOptions.style.display = 'none';
            this.setAttribute('aria-expanded', 'false');
            this.classList.remove('expanded');
        } else {
            advancedOptions.style.display = 'block';
            this.setAttribute('aria-expanded', 'true');
            this.classList.add('expanded');
        }
    });
    
    // Filtros de preço
    const priceButtons = document.querySelectorAll('.price-btn');
    priceButtons.forEach(btn => {
        btn.addEventListener('click', function() {
            priceButtons.forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            
            currentFilters.price = this.dataset.price;
            applyFilters();
            
            if (this.dataset.price !== 'all') {
                addActiveFilterTag('preço', this.textContent);
            }
        });
    });
    
    // Filtros de horário
    const timeButtons = document.querySelectorAll('.time-btn');
    timeButtons.forEach(btn => {
        btn.addEventListener('click', function() {
            timeButtons.forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            
            currentFilters.time = this.dataset.time;
            applyFilters();
            
            if (this.dataset.time !== 'all') {
                addActiveFilterTag('horário', this.textContent);
            }
        });
    });
    
    // Filtros de gênero
    const genreButtons = document.querySelectorAll('.genre-btn');
    genreButtons.forEach(btn => {
        btn.addEventListener('click', function() {
            genreButtons.forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            
            currentFilters.genre = this.dataset.genre;
            applyFilters();
            
            if (this.dataset.genre !== 'all') {
                addActiveFilterTag('gênero', this.textContent);
            }
        });
    });
    
    // ========== APLICAÇÃO DOS FILTROS ========== 
    function applyFilters() {
        // Adiciona estado de loading
        document.querySelector('.filtros-section').classList.add('filter-loading');
        
        setTimeout(() => {
            filteredEvents = eventDatabase.filter(event => {
                // Filtro por cidade
                if (currentFilters.city !== 'all' && event.city !== currentFilters.city) {
                    return false;
                }
                
                // Filtro por tipo
                if (currentFilters.type !== 'all' && event.type !== currentFilters.type) {
                    return false;
                }
                
                // Filtro por preço
                if (currentFilters.price !== 'all' && event.price !== currentFilters.price) {
                    return false;
                }
                
                // Filtro por horário
                if (currentFilters.time !== 'all' && event.time !== currentFilters.time) {
                    return false;
                }
                
                // Filtro por gênero
                if (currentFilters.genre !== 'all' && event.genre !== currentFilters.genre) {
                    return false;
                }
                
                // Filtro por busca
                if (currentFilters.search) {
                    const searchTerm = currentFilters.search.toLowerCase();
                    const searchableText = `${event.title} ${event.location}`.toLowerCase();
                    if (!searchableText.includes(searchTerm)) {
                        return false;
                    }
                }
                
                return true;
            });
            
            updateVisibleEvents();
            updateEventCounts();
            updateResultsCount();
            
            // Remove estado de loading
            document.querySelector('.filtros-section').classList.remove('filter-loading');
            
            showFilterToast(`${filteredEvents.length} eventos encontrados`);
        }, 200);
    }
    
    // ========== ATUALIZAÇÃO DA INTERFACE ========== 
    function updateVisibleEvents() {
        // Esconde todos os eventos
        eventDatabase.forEach(event => {
            if (event.section === 'carousel') {
                event.element.style.display = 'none';
                event.element.style.opacity = '0';
            } else if (event.section === 'agenda') {
                event.element.style.display = 'none';
                event.element.style.opacity = '0';
            }
        });
        
        // Mostra eventos filtrados com animação
        filteredEvents.forEach((event, index) => {
            setTimeout(() => {
                event.element.style.display = 'flex';
                setTimeout(() => {
                    event.element.style.opacity = '1';
                    event.element.style.transform = 'translateY(0)';
                }, 50);
            }, index * 50);
        });
        
        // Atualiza carrossel se necessário
        updateCarouselVisibility();
        
        // Atualiza timeline da agenda
        updateAgendaVisibility();
    }
    
    function updateCarouselVisibility() {
        const carouselContainer = document.querySelector('.cards-container');
        const hasCarouselEvents = filteredEvents.some(event => event.section === 'carousel');
        
        if (!hasCarouselEvents) {
            // Mostra mensagem de nenhum resultado no carrossel
            showNoResultsMessage(carouselContainer, 'Nenhum destaque encontrado para os filtros selecionados.');
        } else {
            hideNoResultsMessage(carouselContainer);
        }
    }
    
    function updateAgendaVisibility() {
        const agendaTimeline = document.querySelector('.agenda-timeline');
        const hasAgendaEvents = filteredEvents.some(event => event.section === 'agenda');
        
        if (!hasAgendaEvents) {
            showNoResultsMessage(agendaTimeline, 'Nenhum evento na agenda para os filtros selecionados.');
        } else {
            hideNoResultsMessage(agendaTimeline);
        }
    }
    
    function showNoResultsMessage(container, message) {
        let noResultsDiv = container.querySelector('.no-results-message');
        
        if (!noResultsDiv) {
            noResultsDiv = document.createElement('div');
            noResultsDiv.className = 'no-results-message';
            noResultsDiv.innerHTML = `
                <div style="text-align: center; padding: 3rem; opacity: 0.7;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">🔍</div>
                    <h3 style="margin-bottom: 1rem; color: var(--highlight);">Nenhum resultado encontrado</h3>
                    <p>${message}</p>
                    <button class="btn-clear-filters" style="margin-top: 1rem; padding: 0.8rem 1.5rem; background: var(--highlight); color: white; border: none; border-radius: 20px; cursor: pointer;">
                        Limpar Filtros
                    </button>
                </div>
            `;
            container.appendChild(noResultsDiv);
            
            // Adiciona event listener para limpar filtros
            noResultsDiv.querySelector('.btn-clear-filters').addEventListener('click', clearAllFilters);
        }
        
        noResultsDiv.style.display = 'block';
    }
    
    function hideNoResultsMessage(container) {
        const noResultsDiv = container.querySelector('.no-results-message');
        if (noResultsDiv) {
            noResultsDiv.style.display = 'none';
        }
    }
    
    function updateEventCounts() {
        const counts = {
            'all': filteredEvents.length,
            'sao-paulo': filteredEvents.filter(e => e.city === 'sao-paulo').length,
            'rio-janeiro': filteredEvents.filter(e => e.city === 'rio-janeiro').length,
            'porto-alegre': filteredEvents.filter(e => e.city === 'porto-alegre').length,
            'florianopolis': filteredEvents.filter(e => e.city === 'florianopolis').length,
            'curitiba': filteredEvents.filter(e => e.city === 'curitiba').length
        };
        
        Object.keys(counts).forEach(city => {
            const countElement = document.getElementById(`count-${city === 'all' ? 'all' : city.replace('-', '').slice(0,3)}`);
            if (countElement) {
                countElement.textContent = counts[city];
                
                // Adiciona efeito de pulse quando muda
                countElement.style.transform = 'scale(1.2)';
                setTimeout(() => {
                    countElement.style.transform = 'scale(1)';
                }, 200);
            }
        });
    }
    
    function updateResultsCount() {
        const resultsCountElement = document.getElementById('results-count');
        if (resultsCountElement) {
            const count = filteredEvents.length;
            const plural = count !== 1 ? 's' : '';
            resultsCountElement.innerHTML = `<strong>${count} evento${plural}</strong> encontrado${plural}`;
        }
    }
    
    // ========== TAGS DE FILTROS ATIVOS ========== 
    function addActiveFilterTag(type, value) {
        removeActiveFilterTag(type); // Remove tag existente do mesmo tipo
        
        const activeFiltersContainer = document.getElementById('active-filters');
        const tag = document.createElement('span');
        tag.className = 'filter-tag';
        tag.dataset.filterType = type;
        tag.innerHTML = `
            ${type}: ${value}
            <button class="remove-filter" aria-label="Remover filtro de ${type}">×</button>
        `;
        
        // Event listener para remover tag
        tag.querySelector('.remove-filter').addEventListener('click', () => {
            removeActiveFilterTag(type);
            resetFilter(type);
        });
        
        activeFiltersContainer.appendChild(tag);
        updateClearAllButton();
    }
    
    function removeActiveFilterTag(type) {
        const activeFiltersContainer = document.getElementById('active-filters');
        const existingTag = activeFiltersContainer.querySelector(`[data-filter-type="${type}"]`);
        if (existingTag) {
            existingTag.remove();
        }
        updateClearAllButton();
    }
    
    function resetFilter(type) {
        switch(type) {
            case 'cidade':
                currentFilters.city = 'all';
                document.querySelector('[data-city="all"]').click();
                break;
            case 'tipo':
                currentFilters.type = 'all';
                document.querySelector('[data-type="all"]').click();
                break;
            case 'data':
                currentFilters.date = 'all';
                document.querySelector('[data-date="all"]').click();
                break;
            case 'preço':
                currentFilters.price = 'all';
                document.querySelector('[data-price="all"]').click();
                break;
            case 'horário':
                currentFilters.time = 'all';
                document.querySelector('[data-time="all"]').click();
                break;
            case 'gênero':
                currentFilters.genre = 'all';
                document.querySelector('[data-genre="all"]').click();
                break;
            case 'busca':
                currentFilters.search = '';
                searchInput.value = '';
                clearSearchBtn.style.display = 'none';
                break;
        }
        applyFilters();
    }
    
    function updateClearAllButton() {
        const clearAllBtn = document.getElementById('clear-all-filters');
        const hasActiveFilters = document.querySelectorAll('.filter-tag').length > 0;
        
        if (hasActiveFilters) {
            clearAllBtn.style.display = 'flex';
        } else {
            clearAllBtn.style.display = 'none';
        }
    }
    
    // ========== LIMPAR TODOS OS FILTROS ========== 
    function clearAllFilters() {
        // Reset todos os filtros
        currentFilters = {
            city: 'all',
            type: 'all', 
            date: 'all',
            price: 'all',
            time: 'all',
            genre: 'all',
            search: ''
        };
        
        // Reset interface
        document.querySelectorAll('.city-filter-btn, .type-filter-btn, .date-filter-btn, .price-btn, .time-btn, .genre-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        
        document.querySelectorAll('[data-city="all"], [data-type="all"], [data-date="all"], [data-price="all"], [data-time="all"], [data-genre="all"]').forEach(btn => {
            btn.classList.add('active');
        });
        
        // Limpa busca
        searchInput.value = '';
        clearSearchBtn.style.display = 'none';
        
        // Remove todas as tags
        document.getElementById('active-filters').innerHTML = '';
        
        // Aplica filtros
        applyFilters();
        
        showFilterToast('Todos os filtros foram removidos');
    }
    
    document.getElementById('clear-all-filters').addEventListener('click', clearAllFilters);
    
    // ========== SALVAR PREFERÊNCIAS ========== 
    document.getElementById('save-filters').addEventListener('click', function() {
        const preferences = {
            city: currentFilters.city,
            type: currentFilters.type,
            savedAt: new Date().toISOString()
        };
        
        localStorage.setItem('role_filter_preferences', JSON.stringify(preferences));
        showFilterToast('Preferências salvas!', 'success');
        
        // Feedback visual no botão
        this.style.background = '#00b894';
        this.style.color = 'white';
        setTimeout(() => {
            this.style.background = '';
            this.style.color = '';
        }, 2000);
    });
    
    // ========== CARREGAR PREFERÊNCIAS ========== 
    function loadSavedPreferences() {
        const saved = localStorage.getItem('role_filter_preferences');
        if (saved) {
            try {
                const preferences = JSON.parse(saved);
                
                // Aplica cidade salva
                if (preferences.city && preferences.city !== 'all') {
                    const cityBtn = document.querySelector(`[data-city="${preferences.city}"]`);
                    if (cityBtn) {
                        cityBtn.click();
                    }
                }
                
                // Aplica tipo salvo
                if (preferences.type && preferences.type !== 'all') {
                    const typeBtn = document.querySelector(`[data-type="${preferences.type}"]`);
                    if (typeBtn) {
                        typeBtn.click();
                    }
                }
                
                showFilterToast('Preferências carregadas!', 'info');
            } catch (error) {
                console.log('Erro ao carregar preferências:', error);
            }
        }
    }
    
    // ========== SISTEMA DE TOAST PARA FILTROS ========== 
    function showFilterToast(message, type = 'info') {
        // Remove toast anterior
        const existingToast = document.querySelector('.filter-toast');
        if (existingToast) {
            existingToast.remove();
        }
        
        const toast = document.createElement('div');
        toast.className = 'filter-toast';
        toast.textContent = message;
        
        // Cores por tipo
        const colors = {
            'info': '#0984e3',
            'success': '#00b894',
            'warning': '#fdcb6e',
            'error': '#e17055'
        };
        
        toast.style.cssText = `
            position: fixed;
            top: 2rem;
            right: 2rem;
            background: ${colors[type] || colors.info};
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 10px;
            font-weight: 600;
            z-index: 10001;
            opacity: 0;
            transform: translateX(100%);
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            font-size: 0.9rem;
            max-width: 300px;
        `;
        
        document.body.appendChild(toast);
        
        // Anima entrada
        setTimeout(() => {
            toast.style.opacity = '1';
            toast.style.transform = 'translateX(0)';
        }, 100);
        
        // Remove após 3 segundos
        setTimeout(() => {
            toast.style.opacity = '0';
            toast.style.transform = 'translateX(100%)';
            setTimeout(() => {
                if (toast.parentNode) {
                    toast.parentNode.removeChild(toast);
                }
            }, 300);
        }, 3000);
    }
    
    // ========== INTEGRAÇÃO COM CARROSSEL E AGENDA ========== 
    
    // Atualiza carrossel quando filtros mudam
    function updateCarouselIndicators() {
        const indicators = document.querySelectorAll('.indicator-dot');
        const visibleCards = filteredEvents.filter(event => event.section === 'carousel');
        
        indicators.forEach((indicator, index) => {
            if (index < visibleCards.length) {
                indicator.style.display = 'block';
            } else {
                indicator.style.display = 'none';
            }
        });
    }
    
    // ========== INICIALIZAÇÃO ========== 
    function initializeFilters() {
        buildEventDatabase();
        loadSavedPreferences();
        
        // Observa mudanças no DOM para reconstruir database
        const observer = new MutationObserver((mutations) => {
            let shouldRebuild = false;
            mutations.forEach((mutation) => {
                if (mutation.type === 'childList') {
                    shouldRebuild = true;
                }
            });
            
            if (shouldRebuild) {
                setTimeout(buildEventDatabase, 100);
            }
        });
        
        // Observa mudanças nas seções de eventos
        const carouselContainer = document.querySelector('.cards-container');
        const agendaContainer = document.querySelector('.agenda-timeline');
        
        if (carouselContainer) {
            observer.observe(carouselContainer, { childList: true, subtree: true });
        }
        
        if (agendaContainer) {
            observer.observe(agendaContainer, { childList: true, subtree: true });
        }
        
        console.log('Sistema de filtros inicializado com sucesso!');
        console.log(`${eventDatabase.length} eventos carregados no database`);
    }
    
    // ========== ATALHOS DE TECLADO ========== 
    document.addEventListener('keydown', function(e) {
        // Ctrl/Cmd + K para focar na busca
        if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
            e.preventDefault();
            searchInput.focus();
        }
        
        // Escape para limpar busca
        if (e.key === 'Escape' && document.activeElement === searchInput) {
            searchInput.value = '';
            clearSearchBtn.click();
            searchInput.blur();
        }
    });
    
    // Inicializa o sistema
    initializeFilters();
    
    // Exporta funções para uso global se necessário
    window.roleFilters = {
        applyFilters,
        clearAllFilters,
        buildEventDatabase,
        currentFilters
    };
});

                // ========== JAVASCRIPT DE ACESSIBILIDADE ========== 
document.addEventListener('DOMContentLoaded', function() {
    
    // ========== GERENCIAMENTO DE FOCO ========== 
    let focusableElements = [];
    let currentFocusIndex = -1;
    
    // Elementos focáveis
    const focusableSelectors = [
        'a[href]',
        'button:not([disabled])',
        'input:not([disabled])',
        'select:not([disabled])',
        'textarea:not([disabled])',
        '[tabindex]:not([tabindex="-1"])',
        '[role="button"]:not([disabled])',
        '[role="tab"]:not([disabled])'
    ].join(', ');
    
    function updateFocusableElements() {
        focusableElements = Array.from(document.querySelectorAll(focusableSelectors))
            .filter(el => {
                return el.offsetWidth > 0 && 
                       el.offsetHeight > 0 && 
                       !el.hidden &&
                       getComputedStyle(el).visibility !== 'hidden';
            });
    }
    
    // ========== SKIP LINKS ========== 
    const skipLinks = document.querySelectorAll('.skip-link');
    
    skipLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href').substring(1);
            const targetElement = document.getElementById(targetId);
            
            if (targetElement) {
                // Move foco para o elemento alvo
                targetElement.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'start' 
                });
                
                // Torna o elemento focável temporariamente se necessário
                const originalTabIndex = targetElement.getAttribute('tabindex');
                if (!targetElement.matches(focusableSelectors)) {
                    targetElement.setAttribute('tabindex', '-1');
                }
                
                targetElement.focus();
                
                // Anuncia a navegação
                announceToScreenReader(`Navegou para ${targetElement.textContent || targetId}`);
                
                // Remove tabindex temporário após 3 segundos
                if (!originalTabIndex) {
                    setTimeout(() => {
                        targetElement.removeAttribute('tabindex');
                    }, 3000);
                }
            }
        });
    });
    
    // ========== DROPDOWN ACESSÍVEL ========== 
    const dropdownButton = document.querySelector('.dropdown-button');
    const dropdownContent = document.querySelector('.dropdown-content');
    const dropdownItems = dropdownContent.querySelectorAll('a');
    
    let currentDropdownIndex = -1;
    
    dropdownButton.addEventListener('click', function(e) {
        e.preventDefault();
        toggleDropdown();
    });
    
    dropdownButton.addEventListener('keydown', function(e) {
        switch(e.key) {
            case 'Enter':
            case ' ':
                e.preventDefault();
                toggleDropdown();
                break;
            case 'ArrowDown':
                e.preventDefault();
                openDropdown();
                focusDropdownItem(0);
                break;
            case 'ArrowUp':
                e.preventDefault();
                openDropdown();
                focusDropdownItem(dropdownItems.length - 1);
                break;
            case 'Escape':
                closeDropdown();
                break;
        }
    });
    
    // Navegação dentro do dropdown
    dropdownItems.forEach((item, index) => {
        item.addEventListener('keydown', function(e) {
            switch(e.key) {
                case 'ArrowDown':
                    e.preventDefault();
                    focusDropdownItem(index + 1);
                    break;
                case 'ArrowUp':
                    e.preventDefault();
                    focusDropdownItem(index - 1);
                    break;
                case 'Home':
                    e.preventDefault();
                    focusDropdownItem(0);
                    break;
                case 'End':
                    e.preventDefault();
                    focusDropdownItem(dropdownItems.length - 1);
                    break;
                case 'Escape':
                    e.preventDefault();
                    closeDropdown();
                    dropdownButton.focus();
                    break;
                case 'Tab':
                    closeDropdown();
                    break;
            }
        });
        
        item.addEventListener('click', function() {
            closeDropdown();
            announceToScreenReader(`Navegando para ${this.textContent}`);
        });
    });
    
    function toggleDropdown() {
        const isOpen = dropdownButton.getAttribute('aria-expanded') === 'true';
        if (isOpen) {
            closeDropdown();
        } else {
            openDropdown();
        }
    }
    
    function openDropdown() {
        dropdownButton.setAttribute('aria-expanded', 'true');
        dropdownContent.style.display = 'block';
        document.querySelector('.dropdown').classList.add('open');
        
        // Remove tabindex -1 dos itens do menu
        dropdownItems.forEach(item => {
            item.setAttribute('tabindex', '0');
        });
        
        announceToScreenReader('Menu aberto');
    }
    
    function closeDropdown() {
        dropdownButton.setAttribute('aria-expanded', 'false');
        dropdownContent.style.display = 'none';
        document.querySelector('.dropdown').classList.remove('open');
        currentDropdownIndex = -1;
        
        // Adiciona tabindex -1 aos itens do menu
        dropdownItems.forEach(item => {
            item.setAttribute('tabindex', '-1');
        });
        
        announceToScreenReader('Menu fechado');
    }
    
    function focusDropdownItem(index) {
        if (index < 0) index = dropdownItems.length - 1;
        if (index >= dropdownItems.length) index = 0;
        
        currentDropdownIndex = index;
        dropdownItems[index].focus();
    }
    
    // Fecha dropdown ao clicar fora
    document.addEventListener('click', function(e) {
        if (!document.querySelector('.dropdown').contains(e.target)) {
            closeDropdown();
        }
    });
    
    // ========== TOGGLE DE TEMA ACESSÍVEL ========== 
    const themeToggle = document.getElementById('theme-toggle');
    const themeStatus = document.querySelector('.theme-status');
    
    themeToggle.addEventListener('click', function() {
        const isLight = document.documentElement.hasAttribute('data-theme');
        const newTheme = isLight ? 'escuro' : 'claro';
        const pressed = !isLight;
        
        // Atualiza atributos ARIA
        this.setAttribute('aria-pressed', pressed);
        this.setAttribute('aria-label', 
            `Alternar entre tema claro e escuro. Tema atual: ${newTheme}`);
        
        // Atualiza texto do status
        if (themeStatus) {
            themeStatus.textContent = `Tema ${newTheme} ativo`;
        }
        
        // Anuncia mudança
        announceToScreenReader(`Tema alterado para ${newTheme}`);
        
        // Salva preferência
        localStorage.setItem('theme-preference', newTheme);
    });
    
    // Carrega tema salvo
    function loadThemePreference() {
        const savedTheme = localStorage.getItem('theme-preference') || 'escuro';
        const isLight = savedTheme === 'claro';
        
        themeToggle.setAttribute('aria-pressed', isLight);
        themeToggle.setAttribute('aria-label', 
            `Alternar entre tema claro e escuro. Tema atual: ${savedTheme}`);
        
        if (themeStatus) {
            themeStatus.textContent = `Tema ${savedTheme} ativo`;
        }
    }
    
    // ========== CARROSSEL ACESSÍVEL ========== 
    const carouselContainer = document.querySelector('.cards-container');
    const carouselCards = document.querySelectorAll('.card');
    const indicators = document.querySelectorAll('.indicator-dot');
    const prevButton = document.querySelector('.scroll-arrow.left');
    const nextButton = document.querySelector('.scroll-arrow.right');
    
    let currentSlide = 0;
    let autoPlayPaused = false;
    
    // Configura indicadores
    indicators.forEach((indicator, index) => {
        indicator.addEventListener('click', function() {
            goToSlide(index);
        });
        
        indicator.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                goToSlide(index);
            }
        });
    });
    
    // Navegação por setas
    prevButton.addEventListener('click', () => goToSlide(currentSlide - 1));
    nextButton.addEventListener('click', () => goToSlide(currentSlide + 1));
    
    // Navegação por teclado no carrossel
    carouselContainer.addEventListener('keydown', function(e) {
        switch(e.key) {
            case 'ArrowLeft':
                e.preventDefault();
                goToSlide(currentSlide - 1);
                break;
            case 'ArrowRight':
                e.preventDefault();
                goToSlide(currentSlide + 1);
                break;
            case 'Home':
                e.preventDefault();
                goToSlide(0);
                break;
            case 'End':
                e.preventDefault();
                goToSlide(carouselCards.length - 1);
                break;
        }
    });
    
    // Pausa autoplay quando foca no carrossel
    carouselContainer.addEventListener('focusin', function() {
        autoPlayPaused = true;
        announceToScreenReader('Reprodução automática pausada');
    });
    
    carouselContainer.addEventListener('focusout', function() {
        autoPlayPaused = false;
        announceToScreenReader('Reprodução automática retomada');
    });
    
    function goToSlide(index) {
        if (index < 0) index = carouselCards.length - 1;
        if (index >= carouselCards.length) index = 0;
        
        currentSlide = index;
        
        // Atualiza indicadores
        indicators.forEach((indicator, i) => {
            const isActive = i === index;
            indicator.classList.toggle('active', isActive);
            indicator.setAttribute('aria-selected', isActive);
        });
        
        // Scroll para o card
        const cardWidth = carouselCards[0].getBoundingClientRect().width + 20;
        carouselContainer.scrollTo({
            left: cardWidth * index,
            behavior: 'smooth'
        });
        
        // Anuncia mudança
        const cardTitle = carouselCards[index].querySelector('h3, p').textContent;
        announceToScreenReader(`Slide ${index + 1} de ${carouselCards.length}: ${cardTitle}`);
    }
    
    // ========== CARDS FOCÁVEIS ========== 
    carouselCards.forEach((card, index) => {
        // Torna cards focáveis
        card.setAttribute('tabindex', '0');
        
        card.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                const link = this.querySelector('a');
                if (link) {
                    announceToScreenReader(`Abrindo link: ${link.textContent}`);
                    link.click();
                }
            }
        });
        
        // Anuncia quando foca no card
        card.addEventListener('focus', function() {
            const title = this.querySelector('p').textContent;
            announceToScreenReader(`Card focado: ${title}`);
        });
    });
    
    // ========== FILTROS ACESSÍVEIS ========== 
    const filterButtons = document.querySelectorAll('.city-filter-btn, .type-filter-btn, .date-filter-btn');
    
    filterButtons.forEach(button => {
        button.addEventListener('click', function() {
            const filterType = this.closest('.filter-group').querySelector('.filter-label').textContent;
            const filterValue = this.textContent.trim();
            
            announceToScreenReader(`Filtro ${filterType} alterado para: ${filterValue}`);
        });
        
        button.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                this.click();
            }
        });
    });
    
    // ========== BUSCA ACESSÍVEL ========== 
    const searchInput = document.getElementById('event-search');
    const clearSearchBtn = document.querySelector('.clear-search');
    
    if (searchInput) {
        let searchTimeout;
        
        searchInput.addEventListener('input', function() {
            clearTimeout(searchTimeout);
            
            searchTimeout = setTimeout(() => {
                const query = this.value.trim();
                if (query) {
                    announceToScreenReader(`Buscando por: ${query}`);
                } else {
                    announceToScreenReader('Busca limpa');
                }
            }, 1000);
        });
        
        searchInput.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                this.value = '';
                clearSearchBtn.click();
                announceToScreenReader('Busca limpa');
            }
        });
    }
    
    // ========== ANÚNCIOS PARA SCREEN READERS ========== 
    function announceToScreenReader(message, priority = 'polite') {
        const announcements = document.getElementById('aria-announcements');
        if (announcements) {
            announcements.setAttribute('aria-live', priority);
            announcements.textContent = message;
            
            // Limpa o anúncio após 1 segundo
            setTimeout(() => {
                announcements.textContent = '';
            }, 1000);
        }
    }
    
    // ========== DETECÇÃO DE PREFERÊNCIAS DE USUÁRIO ========== 
    
    // Movimento reduzido
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        document.documentElement.style.setProperty('--animation-duration', '0.01s');
        announceToScreenReader('Animações reduzidas ativadas');
    }
    
    // Alto contraste
    if (window.matchMedia('(prefers-contrast: high)').matches) {
        document.documentElement.classList.add('high-contrast');
        announceToScreenReader('Modo de alto contraste ativo');
    }
    
    // ========== FORMULÁRIOS ACESSÍVEIS ========== 
    const forms = document.querySelectorAll('form');
    
    forms.forEach(form => {
        form.addEventListener('submit', function(e) {
            const formName = this.getAttribute('aria-label') || 'Formulário';
            announceToScreenReader(`${formName} enviado`);
        });
        
        // Validação acessível
        const inputs = form.querySelectorAll('input, textarea, select');
        inputs.forEach(input => {
            input.addEventListener('invalid', function() {
                const label = this.labels[0]?.textContent || this.placeholder || 'Campo';
                announceToScreenReader(`Erro no campo ${label}: ${this.validationMessage}`, 'assertive');
            });
            
            input.addEventListener('input', function() {
                if (this.validity.valid && this.hasAttribute('aria-invalid')) {
                    this.removeAttribute('aria-invalid');
                    announceToScreenReader(`Campo ${this.labels[0]?.textContent || this.placeholder} corrigido`);
                }
            });
        });
    });
    
    // ========== TOOLTIPS ACESSÍVEIS ========== 
    function createTooltip(element, text) {
        const tooltip = document.createElement('div');
        tooltip.className = 'tooltip';
        tooltip.textContent = text;
        tooltip.id = `tooltip-${Math.random().toString(36).substr(2, 9)}`;
        
        element.setAttribute('aria-describedby', tooltip.id);
        element.appendChild(tooltip);
        
        return tooltip;
    }
    
    // Adiciona tooltips para elementos com título
    document.querySelectorAll('[title]').forEach(element => {
        const title = element.getAttribute('title');
        element.removeAttribute('title');
        createTooltip(element, title);
    });
    
    // ========== MODAL/DIALOG ACESSÍVEL ========== 
    function createAccessibleModal(content, title = 'Dialog') {
        const modal = document.createElement('div');
        modal.className = 'modal';
        modal.setAttribute('role', 'dialog');
        modal.setAttribute('aria-labelledby', 'modal-title');
        modal.setAttribute('aria-describedby', 'modal-content');
        modal.setAttribute('aria-modal', 'true');
        
        modal.innerHTML = `
            <div class="modal-backdrop" aria-hidden="true"></div>
            <div class="modal-container">
                <div class="modal-header">
                    <h2 id="modal-title">${title}</h2>
                    <button class="modal-close" aria-label="Fechar dialog">×</button>
                </div>
                <div class="modal-body" id="modal-content">
                    ${content}
                </div>
            </div>
        `;
        
        document.body.appendChild(modal);
        
        // Gerencia foco
        const focusableElements = modal.querySelectorAll(focusableSelectors);
        const firstFocusable = focusableElements[0];
        const lastFocusable = focusableElements[focusableElements.length - 1];
        
        // Armadilha de foco
        modal.addEventListener('keydown', function(e) {
            if (e.key === 'Tab') {
                if (e.shiftKey && document.activeElement === firstFocusable) {
                    e.preventDefault();
                    lastFocusable.focus();
                } else if (!e.shiftKey && document.activeElement === lastFocusable) {
                    e.preventDefault();
                    firstFocusable.focus();
                }
            } else if (e.key === 'Escape') {
                closeModal();
            }
        });
        
        // Fecha modal
        function closeModal() {
            modal.remove();
            document.body.style.overflow = '';
            announceToScreenReader('Dialog fechado');
        }
        
        modal.querySelector('.modal-close').addEventListener('click', closeModal);
        modal.querySelector('.modal-backdrop').addEventListener('click', closeModal);
        
        // Foca no primeiro elemento
        document.body.style.overflow = 'hidden';
        firstFocusable.focus();
        announceToScreenReader(`Dialog aberto: ${title}`);
        
        return modal;
    }
    
    // ========== LIVE REGIONS PARA ATUALIZAÇÕES ========== 
    function createLiveRegion(id, level = 'polite') {
        let liveRegion = document.getElementById(id);
        
        if (!liveRegion) {
            liveRegion = document.createElement('div');
            liveRegion.id = id;
            liveRegion.setAttribute('aria-live', level);
            liveRegion.setAttribute('aria-atomic', 'true');
            liveRegion.className = 'sr-only';
            document.body.appendChild(liveRegion);
        }
        
        return liveRegion;
    }
    
    // ========== NAVEGAÇÃO POR LANDMARKS ========== 
    const landmarks = document.querySelectorAll('[role="banner"], [role="main"], [role="navigation"], [role="contentinfo"], [role="complementary"]');
    
    document.addEventListener('keydown', function(e) {
        // Alt + R para ir para main
        if (e.altKey && e.key === 'r') {
            const main = document.querySelector('[role="main"], main');
            if (main) {
                main.focus();
                announceToScreenReader('Navegado para conteúdo principal');
            }
        }
        
        // Alt + N para ir para navigation
        if (e.altKey && e.key === 'n') {
            const nav = document.querySelector('[role="navigation"], nav');
            if (nav) {
                nav.focus();
                announceToScreenReader('Navegado para menu principal');
            }
        }
    });
    
    // ========== FEEDBACK SONORO (OPCIONAL) ========== 
    function playAccessibilitySound(type = 'click') {
        if ('speechSynthesis' in window) {
            // Som usando Web Speech API para feedback
            const utterance = new SpeechSynthesisUtterance('');
            utterance.volume = 0.1;
            utterance.rate = 10;
            utterance.pitch = type === 'error' ? 0.5 : 1;
            speechSynthesis.speak(utterance);
        }
    }
    
    // ========== INICIALIZAÇÃO ========== 
    function initializeAccessibility() {
        // Carrega preferências
        loadThemePreference();
        
        // Atualiza lista de elementos focáveis
        updateFocusableElements();
        
        // Observa mudanças no DOM
        const observer = new MutationObserver(() => {
            updateFocusableElements();
        });
        
        observer.observe(document.body, {
            childList: true,
            subtree: true,
            attributes: true,
            attributeFilter: ['hidden', 'disabled', 'tabindex']
        });
        
        // Anuncia carregamento completo
        announceToScreenReader('Página carregada. Use Tab para navegar pelos elementos interativos.');
        
        console.log('Sistema de acessibilidade inicializado');
        console.log(`${focusableElements.length} elementos focáveis encontrados`);
    }
    
    // ========== EXPORTA FUNÇÕES PARA USO GLOBAL ========== 
    window.roleAccessibility = {
        announceToScreenReader,
        createAccessibleModal,
        createLiveRegion,
        updateFocusableElements,
        playAccessibilitySound
    };
    
    // Inicializa
    initializeAccessibility();
    
    // ========== DEBUG MODE (DESENVOLVIMENTO) ========== 
    if (localStorage.getItem('role_debug_a11y') === 'true') {
        // Destaca elementos focáveis
        focusableElements.forEach(el => {
            el.style.outline = '2px dashed orange';
        });
        
        // Log de eventos de acessibilidade
        document.addEventListener('focus', (e) => {
            console.log('Focus:', e.target);
        }, true);
        
        document.addEventListener('click', (e) => {
            console.log('Click:', e.target);
        });
        
        console.log('Modo debug de acessibilidade ativo');
    }
});

// ========== ESTILOS CSS ADICIONAIS PARA MODAL ========== 
const modalStyles = `
<style>
.modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
}

.modal-backdrop {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(4px);
}

.modal-container {
    position: relative;
    background: var(--card-bg);
    border: 2px solid var(--highlight);
    border-radius: 15px;
    max-width: 90%;
    max-height: 90%;
    overflow: auto;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.5rem;
    border-bottom: 1px solid var(--card-border);
}

.modal-header h2 {
    margin: 0;
    color: var(--highlight);
}

.modal-close {
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: var(--text-color);
    padding: 0.5rem;
    border-radius: 50%;
    transition: background 0.3s ease;
}

.modal-close:hover {
    background: rgba(199, 125, 255, 0.2);
}

.modal-body {
    padding: 1.5rem;
}

@media (max-width: 768px) {
    .modal-container {
        max-width: 95%;
        max-height: 95%;
        margin: 1rem;
    }
    
    .modal-header,
    .modal-body {
        padding: 1rem;
    }
}
</style>
`;

// Adiciona estilos do modal ao head se não existirem
if (!document.querySelector('#modal-styles')) {
    const styleSheet = document.createElement('div');
    styleSheet.id = 'modal-styles';
    styleSheet.innerHTML = modalStyles;
    document.head.appendChild(styleSheet);
}
