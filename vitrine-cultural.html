<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="keywords" content="vitrine cultural, eventos, cultura, rolê, arte, música, festa, entretenimento" />
    <meta name="description" content="ROLÊ: Vitrine Cultural com os eventos em destaque da cena independente." />
    <meta property="og:title" content="Vitrine Cultural | ROLÊ ENTRETENIMENTO" />
    <meta property="og:description" content="Os eventos mais quentes da cena alternativa, reunidos na Vitrine Cultural do ROLÊ" />
    <meta property="og:image" content="images/logo-role.png" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://roleentretenimento.com/vitrine-cultural.html" />
    
    <script>
        if (localStorage.getItem('theme') === 'light') {
            document.documentElement.setAttribute('data-theme', 'light');
        }
    </script>
    
    <title>Vitrine Cultural | ROLÊ ENTRETENIMENTO</title>
    <link rel="icon" href="images/favicon.png" type="image/png" />
    
    <noscript>
        <p style="text-align:center; color:red;">Para uma melhor experiência, ative o JavaScript no seu navegador.</p>
    </noscript>
    
    <link rel="stylesheet" href="estilo.css" />
</head>

<body>
    <section class="bloco-topo">
        <div class="container-topo">
            <div class="header-top">
                <!-- LOGO ESQUERDA -->
                <img src="images/logo-role.png" alt="Logotipo da marca ROLÊ Entretenimento" class="logo" />

                <!-- MENU + TEMA (LADO DIREITO) -->
                <div class="right-top">
                    <!-- MENU DROPDOWN -->
                    <div class="dropdown">
                        <button class="dropdown-button" aria-haspopup="true" aria-controls="menu-explorar" aria-expanded="false">
                            Explorar ▼
                        </button>          
                        <div class="dropdown-content" id="menu-explorar">
                            <a href="index.html">Página Inicial</a>
                            <a href="revista.html">Revista ROLÊ</a>
                            <a href="vitrine-cultural.html">Vitrine Cultural</a>
                            <a href="descontos.html">Descontos</a>
                            <a href="contato.html">Contato</a>
                            <a href="quem-somos.html">Quem Somos</a>
                        </div>
                    </div>

                    <!-- TEMA -->
                    <img src="images/theme-toggle.gif" alt="Alternar tema" class="lampada-toggle" role="button" tabindex="0" aria-pressed="false" />
                </div>
            </div>
            <hr class="linha-topo" />
        </div>
    </section>

    <!-- Menu específico da Vitrine Cultural -->
    <nav class="menu-vitrine">
        <a href="vitrine-hero.html" class="btn-destaque">Descubra como funciona a Vitrine</a>
        <a href="vitrine-por-que-anunciar.html">Por que anunciar?</a>
        <a href="vitrine-pacotes.html">Pacotes</a>
        <a href="vitrine-faq.html">FAQ</a>
        <a href="vitrine-artigo-marketing-eventos.html">Artigo</a>
    </nav>

    <!-- Carrossel com melhorias -->
    <div class="carrossel fade-in delay">
        <main class="destaques" role="main">
            <h2>NA VITRINE CULTURAL</h2>
            <div class="scroll-wrapper">
                <button class="scroll-arrow left" aria-label="Ver evento anterior">◀</button>
                <div class="cards-container">
                    <!-- Cards de eventos -->
                    <div class="card fade-in delay">
                        <img src="images/plano.png" alt="PLANO 8 ANOS - Evento Mercúrio em Transe" loading="lazy" />
                        <p>Uma pista-portal te chama: Mercúrio em Transe, 05/07!</p>
                        <a href="https://www.instagram.com/p/DLfURN7uUYq/?img_index=1" target="_blank" rel="noopener noreferrer">Ver mais</a>
                    </div>
                    <div class="card fade-in delay">
                        <img src="images/Atrito.png" alt="Festa Atrito - After mais insano do Rio" loading="lazy" />
                        <p>ATRITO: o after mais insano do Rio te espera!</p>
                        <a href="https://www.instagram.com/p/DLkhRnvuMpI/?img_index=1" target="_blank" rel="noopener noreferrer">Ver mais</a>
                    </div>
                    <div class="card fade-in delay">
                        <img src="images/Lovefool.png" alt="Festa Disco Love - Glitter, hits e caos gostoso" loading="lazy" />
                        <p>DISCO LOVE no Hum: glitter, hits e caos gostoso!</p>
                        <a href="https://www.instagram.com/p/DLlFJmzvzMh/?img_index=1" target="_blank" rel="noopener noreferrer">Ver mais</a>
                    </div>
                    <div class="card fade-in delay">
                        <img src="images/bolsinh4.png" alt="Festa Bolsinh4 - Rave pop no 63" loading="lazy" />
                        <p>BOLSINH4: Uma rave pop que vai explodir no 63</p>
                        <a href="https://www.instagram.com/p/DLn3ci8v6-U/" target="_blank" rel="noopener noreferrer">Ver mais</a>
                    </div>
                </div>
                <button class="scroll-arrow right" aria-label="Ver próximo evento">▶</button>
                
                <!-- Indicadores do carrossel -->
                <div class="carousel-indicator">
                    <div class="indicator-dot active"></div>
                    <div class="indicator-dot"></div>
                    <div class="indicator-dot"></div>
                    <div class="indicator-dot"></div>
                </div>
            </div>
        </main>
    </div>

    <footer>
        <div class="footer-links">
            © 2025 ROLÊ ENTRETENIMENTO ·
            <a href="politica.html">Política de Privacidade</a> ·
            <a href="termos-usuario.html">Termos do Rolezeiro</a> ·
            <a href="termos-organizador.html">Termos do Organizador</a> ·
            <a href="politica-spam.html">Política Antispam</a>
        </div>
        <div class="social-icons">
            <a href="https://instagram.com/role.ent" target="_blank" rel="noopener noreferrer">
                <img src="images/instagram.svg" alt="Instagram ROLÊ" />
            </a>
            <a href="https://tiktok.com/@role.ent" target="_blank" rel="noopener noreferrer">
                <img src="images/tiktok.svg" alt="TikTok ROLÊ" />
            </a>
            <a href="https://wa.me/5551980704353" target="_blank" rel="noopener noreferrer">
                <img src="images/whatsapp.svg" alt="WhatsApp ROLÊ" />
            </a>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // ========== DROPDOWN EXPLORAR ==========
            const dropdown = document.querySelector('.dropdown');
            const button = dropdown.querySelector('.dropdown-button');
            const content = dropdown.querySelector('.dropdown-content');

            if (button && content) {
                button.addEventListener('click', function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    dropdown.classList.toggle('open');
                    button.setAttribute('aria-expanded', dropdown.classList.contains('open'));
                });

                document.addEventListener('click', function (e) {
                    if (!dropdown.contains(e.target)) {
                        dropdown.classList.remove('open');
                        button.setAttribute('aria-expanded', false);
                    }
                });

                content.addEventListener('click', function (e) {
                    e.stopPropagation();
                });
            }

            // ========== CARROSSEL SUPER MELHORADO ==========
            const container = document.querySelector('.cards-container');
            const cards = container.querySelectorAll('.card');
            const indicators = document.querySelectorAll('.indicator-dot');
            const totalCards = cards.length;
            let currentIndex = 0;
            let autoPlayInterval;
            let isAutoPlaying = true;
            let isScrolling = false;

            function updateIndicators() {
                indicators.forEach((dot, index) => {
                    dot.classList.toggle('active', index === currentIndex);
                });
            }

            function scrollToCard(index, smooth = true) {
                if (isScrolling) return;
                
                if (index < 0) index = totalCards - 1;
                if (index >= totalCards) index = 0;
                currentIndex = index;
                
                isScrolling = true;
                
                const cardWidth = cards[0].getBoundingClientRect().width + 20;
                container.scrollTo({
                    left: cardWidth * index,
                    behavior: smooth ? 'smooth' : 'auto'
                });
                
                updateIndicators();
                
                // Reset scrolling flag after animation
                setTimeout(() => {
                    isScrolling = false;
                }, 500);
            }

            function startAutoPlay() {
                if (isAutoPlaying) {
                    autoPlayInterval = setInterval(() => {
                        scrollToCard(currentIndex + 1);
                    }, 4000); // 4 segundos
                }
            }

            function stopAutoPlay() {
                clearInterval(autoPlayInterval);
            }

            // Controles do carrossel
            const arrowLeft = document.querySelector('.scroll-arrow.left');
            const arrowRight = document.querySelector('.scroll-arrow.right');

            if (arrowLeft && arrowRight) {
                arrowLeft.addEventListener('click', () => {
                    stopAutoPlay();
                    scrollToCard(currentIndex - 1);
                    setTimeout(startAutoPlay, 3000); // Retoma depois de 3s
                });

                arrowRight.addEventListener('click', () => {
                    stopAutoPlay();
                    scrollToCard(currentIndex + 1);
                    setTimeout(startAutoPlay, 3000);
                });
            }

            // Indicadores clicáveis
            indicators.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    stopAutoPlay();
                    scrollToCard(index);
                    setTimeout(startAutoPlay, 3000);
                });
            });

            // Pausa auto-play ao hover
            container.addEventListener('mouseenter', stopAutoPlay);
            container.addEventListener('mouseleave', startAutoPlay);

            // Touch/swipe support para mobile
            let startX = 0;
            let startY = 0;
            let isTouch = false;

            container.addEventListener('touchstart', (e) => {
                startX = e.touches[0].clientX;
                startY = e.touches[0].clientY;
                isTouch = true;
                stopAutoPlay();
            });

            container.addEventListener('touchend', (e) => {
                if (!isTouch) return;
                
                const endX = e.changedTouches[0].clientX;
                const endY = e.changedTouches[0].clientY;
                const diffX = startX - endX;
                const diffY = startY - endY;

                if (Math.abs(diffX) > Math.abs(diffY) && Math.abs(diffX) > 50) {
                    if (diffX > 0) {
                        scrollToCard(currentIndex + 1);
                    } else {
                        scrollToCard(currentIndex - 1);
                    }
                }
                isTouch = false;
                setTimeout(startAutoPlay, 3000);
            });

            // Navegação por teclado
            container.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') {
                    e.preventDefault();
                    stopAutoPlay();
                    scrollToCard(currentIndex - 1);
                    setTimeout(startAutoPlay, 3000);
                } else if (e.key === 'ArrowRight') {
                    e.preventDefault();
                    stopAutoPlay();
                    scrollToCard(currentIndex + 1);
                    setTimeout(startAutoPlay, 3000);
                }
            });

            // Detectar mudança de scroll manual
            container.addEventListener('scroll', () => {
                if (!isScrolling) {
                    const cardWidth = cards[0].getBoundingClientRect().width + 20;
                    const newIndex = Math.round(container.scrollLeft / cardWidth);
                    if (newIndex !== currentIndex) {
                        currentIndex = newIndex;
                        updateIndicators();
                    }
                }
            });

            // Inicializar carrossel
            setTimeout(() => {
                if (container && cards.length > 0) {
                    scrollToCard(0, false);
                    startAutoPlay();
                }
            }, 300);

            // ========== ANIMAÇÕES DE ENTRADA ==========
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);

            // Observar cards para animação de entrada
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(30px)';
                card.style.transition = `all 0.6s ease ${index * 0.1}s`;
                observer.observe(card);
            });

            // ========== REDIMENSIONAMENTO ==========
            window.addEventListener('resize', () => {
                // Recalcular posições no resize
                setTimeout(() => {
                    scrollToCard(currentIndex, false);
                }, 100);
            });
        });

        // ========== TOGGLE TEMA MELHORADO ==========
        const lampada = document.querySelector('.lampada-toggle');
        const root = document.documentElement;

        // Aplica o tema salvo ao carregar
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'light') {
            root.setAttribute('data-theme', 'light');
            lampada.setAttribute('aria-pressed', 'true');
        } else {
            root.removeAttribute('data-theme');
            lampada.setAttribute('aria-pressed', 'false');
        }

        // Alterna o tema ao clicar na lâmpada
        lampada.addEventListener('click', () => {
            if (root.hasAttribute('data-theme')) {
                // Volta para modo escuro
                root.removeAttribute('data-theme');
                lampada.setAttribute('aria-pressed', 'false');
                localStorage.setItem('theme', 'dark');
            } else {
                // Vai para modo claro
                root.setAttribute('data-theme', 'light');
                lampada.setAttribute('aria-pressed', 'true');
                localStorage.setItem('theme', 'light');
            }
        });

        // Navegação por teclado na lâmpada
        lampada.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                lampada.click();
            }
        });

        // ========== SUAVIZAÇÃO ADICIONAL ==========
        // Previne flash de tema incorreto
        document.body.style.transition = 'all 0.3s ease';

        // Performance otimizations
        if ('IntersectionObserver' in window) {
            const lazyImages = document.querySelectorAll('img[loading="lazy"]');
            const imageObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        img.classList.add('loaded');
                        imageObserver.unobserve(img);
                    }
                });
            });

            lazyImages.forEach(img => imageObserver.observe(img));
        }

        // Prevenção de scroll horizontal indesejado
        document.addEventListener('touchmove', (e) => {
            if (e.touches.length > 1) {
                e.preventDefault();
            }
        }, { passive: false });
    </script>
</body>
</html>
