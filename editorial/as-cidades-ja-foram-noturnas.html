<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>As cidades já foram noturnas – Revista ROLÊ</title>
  <meta name="description" content="As cidades já foram noturnas? Neste editorial, o ROLÊ reflete sobre a perda da madrugada nas grandes cidades brasileiras e a resistência da cultura noturna." />
  <meta name="author" content="FIIH, Co-fundador do ROLÊ" />
  <meta property="og:title" content="As cidades já foram noturnas | Revista ROLÊ" />
  <meta property="og:description" content="Um texto sobre a repressão à vida noturna, a cultura da presença e a resistência dos que ainda fazem a cidade respirar." />
  <meta property="og:image" content="https://roleentretenimento.com/editorial-madrugada.png" />
  <meta property="og:type" content="article" />
  <meta property="og:url" content="https://roleentretenimento.com/editorial/as-cidades-ja-foram-noturnas.html" />
  <meta name="twitter:card" content="summary_large_image" />
  <link rel="icon" href="images/favicon.png" type="image/png" />
  <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg-color: #000;
      --text-color: #f3f3f7;
      --highlight: #c77dff;
      --card-bg: #151515;
    }
    body {
      margin: 0;
      font-family: 'League Spartan', sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      padding: 2rem;
      line-height: 1.7;
    }
    @media (max-width: 600px) {
      body {
        padding: 1rem;
        font-size: 0.95rem;
      }
      h1 {
        font-size: 1.8rem;
      }
      .comentario {
        flex-direction: column;
        align-items: flex-start;
      }
    }
    a {
      color: var(--highlight);
      text-decoration: none;
    }
    h1 {
      font-size: 2.2rem;
      color: var(--highlight);
      margin-bottom: 0.2rem;
    }
    .autor {
      font-size: 1rem;
      font-weight: bold;
      margin-bottom: 1.5rem;
      color: #aaa;
    }
    .content {
      max-width: 800px;
      margin: auto;
    }
    .back-link {
      display: inline-block;
      margin-top: 2.5rem;
      background: var(--highlight);
      color: var(--bg-color);
      padding: 10px 16px;
      border-radius: 10px;
      font-weight: bold;
      text-decoration: none;
      transition: 0.3s ease;
    }
    .back-link:hover {
      background-color: #a95ce6;
    }
    img.header {
      width: 100%;
      max-width: 800px;
      border-radius: 12px;
      margin: 1.5rem 0;
      box-shadow: 0 0 15px rgba(199, 125, 255, 0.2);
    }
    p {
      margin-bottom: 1.4rem;
    }
    summary {
      cursor: pointer;
      font-weight: bold;
      font-size: 1.1rem;
      color: var(--highlight);
      margin-bottom: 1rem;
    }
    details {
      background-color: #1a1a1a;
      padding: 1rem 1.2rem;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(199, 125, 255, 0.05);
      max-width: 800px;
      margin: auto;
      margin-bottom: 2rem;
    }
    details ul {
      padding-left: 1.2rem;
      margin: 0.5rem 0;
    }
    details ul li {
      margin: 0.5rem 0;
    }
    .instagram-embed {
      display: flex;
      justify-content: center;
      margin: 3rem auto;
    }
    .comentarios {
      max-width: 800px;
      margin: 4rem auto;
    }
    .comentarios input,
    .comentarios textarea {
      width: 100%;
      padding: 0.8rem;
      margin-top: 0.5rem;
      background: #222;
      color: var(--text-color);
      border: 1px solid #333;
      border-radius: 8px;
      font-size: 1rem;
    }
    .comentarios button {
      margin-top: 0.8rem;
      background-color: var(--highlight);
      color: var(--bg-color);
      font-weight: bold;
      padding: 0.6rem 1.2rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
    }
    .comentario {
      background: #111;
      border-radius: 12px;
      padding: 1rem;
      margin-top: 1rem;
      display: flex;
      gap: 1rem;
    }
    .avatar {
      background: var(--highlight);
      color: var(--bg-color);
      font-weight: bold;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
    }
    .hora {
      font-size: 0.8rem;
      color: #aaa;
      margin-left: 0.4rem;
    }
  </style>
  <script async src="https://www.instagram.com/embed.js"></script>
</head>
<body>
  <main class="content">
    <!-- ... texto já incluso acima ... -->
    <div class="instagram-embed">
      <blockquote class="instagram-media" data-instgrm-permalink="https://www.instagram.com/p/DJ2mpGfvPxL/" data-instgrm-version="14" style="width:100%; max-width:540px; margin:0 auto;"></blockquote>
    </div>
  </main>

  <section class="comentarios">
    <h2>Deixe um comentário</h2>
    <form id="form-comentario">
      <input type="text" name="nome" placeholder="Seu nome" required>
      <textarea name="comentario" placeholder="Seu comentário" required></textarea>
      <button type="submit">Enviar</button>
    </form>
    <div id="mensagem-sucesso" style="display: none; margin-top: 1rem; color: var(--highlight); font-weight: bold;">
      Comentário enviado com sucesso!
    </div>
    <div id="lista-comentarios"></div>
  </section>

  <script>
    const endpoint = "https://script.google.com/macros/s/AKfycbwboSjFcza-EczqagywgYFSkatJp_7YjY6fLAXplpcTuGkSODABDfUmt-VaV4T2Sdo/exec";

    document.getElementById('form-comentario').addEventListener('submit', function(e) {
      e.preventDefault();
      const form = e.target;
      const dados = new FormData(form);
      fetch(endpoint, {
        method: "POST",
        body: dados
      })
      .then(res => res.text())
      .then(() => {
        form.reset();
        document.getElementById('mensagem-sucesso').style.display = 'block';
        setTimeout(() => {
          document.getElementById('mensagem-sucesso').style.display = 'none';
        }, 3000);
        carregarComentarios();
      });
    });

    function curtirComentario(index) {
      fetch(`${endpoint}?like=${index}`)
        .then(() => carregarComentarios());
    }

    function carregarComentarios() {
      fetch(endpoint)
        .then(response => response.json())
        .then(data => {
          const lista = document.getElementById('lista-comentarios');
          lista.innerHTML = '';
          data.reverse().forEach(c => {
            const primeiraLetra = c.nome.trim().charAt(0).toUpperCase() || 'A';
            const div = document.createElement('div');
            div.className = 'comentario';
            div.innerHTML = `
              <div class="avatar">${primeiraLetra}</div>
              <div class="comentario-texto">
                <p><strong>${c.nome || 'Anônimo'}</strong><span class="hora"> (${c.data})</span></p>
                <p>${c.comentario}</p>
                <button onclick="curtirComentario(${c.index})">
                  ❤️ Curtir (<span>${c.likes || 0}</span>)
                </button>
              </div>`;
            lista.appendChild(div);
          });
        });
    }

    carregarComentarios();
  </script>
</body>
</html>
